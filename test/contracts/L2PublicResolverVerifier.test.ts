import { FakeContract, smock } from "@defi-wonderland/smock";
import { BedrockProofVerifier } from "ccip-resolver/dist/typechain";
import { expect } from "chai";
import { BigNumber } from "ethers";
import { ethers } from "hardhat";
import { L2PublicResolverVerifier, L2PublicResolverVerifier__factory } from "../../typechain";

describe("L2PublicResolverVerifier", () => {
    it("resolve blockchain Address ", async () => {
        const [owner] = await ethers.getSigners();
        const bedrockProofVerifier: FakeContract<BedrockProofVerifier> = (await smock.fake<BedrockProofVerifier>(
            "ccip-resolver/contracts/verifier/optimism-bedrock/IBedrockProofVerifier.sol:IBedrockProofVerifier"
        )) as FakeContract<BedrockProofVerifier>;
        bedrockProofVerifier.getProofValue.returnsAtCall(0, "0x");

        bedrockProofVerifier.getProofValue.returnsAtCall(1, "0x76a91462e907b15cbf27d5425399ebf6f0fb50ebb88f1888ac");

        const l2PublicResolverVerifier: L2PublicResolverVerifier = await new L2PublicResolverVerifier__factory()
            .connect(owner)
            .deploy(owner.address, "", "", 420, bedrockProofVerifier.address, "0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0");
        const cd =
            "0xf4d4d2f8000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000016c000000000000000000000000000000000000000000000000000000000000016600000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000b000000000000000000000000000000000000000000000000000000000000000aa000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000009fe46736679d2d9a65f0992f2272de9f3c7fa6e000000000000000000000000000000000000000000000000000000000000000205b0bab1651ce4195a91d85e96648433475fef18ed37b8f47ad5a7e307180f3f80000000000000000000000000000000000000000000000000000000000000160000000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000007ff37db7a953c5ba0969378f46b955247c4b7b8cd46905eb0136e064eeb1e2118ed4baae3a927be3dea54996b4d5899f8c01e7594bf50b17dc1e741388ce3d12af90341aff9da655bc87adef88641d1b7863c689108bb42c8dd58d1222076b7d00000000000000000000000000000000000000000000000000000000000007c00000000000000000000000000000000000000000000000000000000000000629f90626b90214f90211a07dcc82dbc36188c7db4b900978822cfa2a7098d9d95d4e7de5279d6b64ae9321a040cdfa90d7a98e743348ff163a788e2af142da2e515741a12c1f5672690843caa0f81e937e2d5ff7c1f8a392103e8125cd54808452f10bafdc7dbb3f0fe6c4eb5ba05292df2f2fdebbcd84a7999929af2acf15c6758e2aa7707736ecbd727464c0aaa09f26d81842b6279d54c55f9dde86ec255381a43cbe65991918cc5dab37f3cd39a06e6d4b6c7a781500ca3288d65e40c36746a332e4b42ac409447cf3c68638619ea004873662e32a2c7b56263c834fa312775fca35d684a9441bebe0d065f5103671a074714750e1d267cd6090763f6ed4b173cc48d26a4a79a1dd53af4e3a9b3430bea0d414b7e6975d22d17222e76437b81de97778a6456e8ab526d25368340ca92161a08af36097d036d1a5f08f46a4697e414b1c52f4f20f469afcb56cf7524e3dc155a01f5b7ae3f9169e9781ca2bbcbde9fa9306d4c4187fc49ba6b6e6b23d5e949828a02910c1dc3fe0c125f7a5ec0ad1d108a0c65f65ee94a63d10298da93439f8e3c1a0ad5ccb80e68c6f36226137f8846944f3edda206e847ce3d89312186dacc697fda0f503a03e5f8d8c570949d4bbdfa6a2c0b05e43265d814e9a7f60c247f86bfc57a0f35389df5031dd2f43177de6bf34318e88294d2a4ab4fdef20772face2176ecca036967e3d9f4818ff6b2b6e3caa28af216bf24a15d85e701546ffa61f4053e1a280b90214f90211a0d822fcda4fe151c4f2064581d51e5ed328746437ba625f33e65ec2c8c7eba21aa0f662289e4896086e09dcb07f18a2094f1f363fdda86c4274225c8fcc07f7829ea0a4aab2b2e4a8a0180ac476ab9a82accc8346b05956b9a8ddb1d54f81ffd21b58a0e29783ba9b46fa0953dc806e6178905500e6391efcbc690150bddea9fca5a16da0c7b8e7045b33c1f238f958b23da7f56230d6660f53c98ad1cda33b65f89b2c30a02911b276f4ddca7160420f9762c4e88c54daac0510c853291ad84a19f1e4d738a02dcbcdafd3ca410c40b27eb12bbada85f669525ac421ec238eedffc1af6682f0a0f372795b70986564542ae8e7fa34dab8254e3aa5066371de1d996625acbb3f5aa083a031b59ee4cc4810c88c494a7536192d2c1465d3d4165a73fb80708e84035ea0e0d7e87d380fc47f7343c164389a5575249c0e2caf6832530a9aee80317ab6bda070889002b1a0e8c378a0136989c5cd454eb253130a79c8aecf7ce72a56f3b058a086266fdae49d7402035874ba3415faf0b122e3505cac9918bcdda5aeee8f6776a071fdba718a53a53fc6fa3c257004872055e63500cec3fbd2ea10d2f754988746a04ded84487206ab7ecdc06c4becf4f1fab099a34c79176c2236a8861189a4e516a05d77c140426669a57e2bb45a5cd1ff5ca3a3b31f2e62a787dd2543f48bf0b995a068f06f0af8adaacd27c0a5d19addd50994ce29e6420ea4f0cd8e956e06b5612180b90114f9011180a0b018aba825122f4555c6174cab9fc3276a6b70428735d33b6fbe7c597a59914780a0a2f7ffc069829cff1d8e4a969167598b3e46d5149e80934c26475d12d2272dfda0c35f91833c6efa993e1f26cc0571256ab0422f37d422f0ea8cfb0b0530cc54698080a0988265144dc92519e0a4e9ee4d629022b47a9996aac1aca5db472353b43a57f1a0ce7516edb303a37049b66673cffb8720e360d237b4fa8cb46b5716d7a1dda4c18080a02aa926323a8dbf542712191637088ccc6b6964eef3435b8142c6c342ef13571da054ee670c1c6864a7bfa9e8af8393db0b18aa34ccc057050ba4eb46e910ade7548080a090d39acd37397ec1eaebd2bc3c9a135deddaef827c3f946ddacdbda9a230fefc80b873f8718080a08f17f0effe21da2c9ab16a179bb0971bd0de6510b8228699794cf808ceabc7b6808080a0a11d07be3edb03dbf2513953119dd5f2141bec035eb594d6ad6c6f56f5e81107808080808080a0564629cac7ad1b80555d8ca148c3927b085caeac7641db74b2735202706f9375808080b86af8689f200e45164e07e0e4df7165de40d5863fb7b8ece896a164bf57a134287c68f5b846f8440180a05b0bab1651ce4195a91d85e96648433475fef18ed37b8f47ad5a7e307180f3f8a0a95c0f46c44321e5ea1738b223e05b6469ed5faee500fa9057ecce6f43bfabb70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000201c9438ff6aca2f6dd772733c3ea4f5f772e564a776ac09ab641a80d6ffb243d6000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000001cff901ccb90174f9017180a0cdd5ca9dcbc532146838bf3eab2717959c7dbf0e82ca2984169a01f9bb99dac780a0194f85e38715bca1f031cc5b7878826c81589c7cf04cc8f2366bb5907873f004a041b9367a6c563101ccb35e90c65eb5c34e780facac4d50a70da820a57d29fd6ca0d41a0a711a3d8e65ce6e044d76b8e345c7c096af8e4835a4f1b930e320f6c5e7a0911c15124fc3a4d2076ba552707ea14bd6206b7d717ac3d4112f1ecde15674fba084c1f3a6482ee7fa37c0d0585b8c829e40727b4085f05432a20e7086bc470bd1a057b4a569028497cce53bcfeb8d91945ca40fd429e61de0775bfae8977c6d2144a084284eb21d95e0154a9871b2833f6b8edd52909a4468b5bb3c5c80acdf0c7bb1a082d06343ee2ee63585c234b715dddec2b6867dba006abf1054816c6b4d31974380a09f0d39eceba32ae5344c5174f0940c45747b4122583b3f6801842a1b187c48848080a01fc9f125e32decb56cddfc91b72513b0965c9fb71d296595f9e1f3b51d19bfb180b853f8518080a0b6978c0beff22ab7b1aca6260b002a8c300f4b38f7f11c9e82c4e90b6bb0306b8080808080a0c75558bdd876f6b41347de319b0cbb57718410f3c7b8317bb3cfcb898c5a41c9808080808080808000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b00000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000001976a91462e907b15cbf27d5425399ebf6f0fb50ebb88f1888ac0000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000009fe46736679d2d9a65f0992f2272de9f3c7fa6e000000000000000000000000000000000000000000000000000000000000000195b0bab1651ce4195a91d85e96648433475fef18ed37b8f47ad5a7e307180f3f80000000000000000000000000000000000000000000000000000000000000160000000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000007ff37db7a953c5ba0969378f46b955247c4b7b8cd46905eb0136e064eeb1e2118ed4baae3a927be3dea54996b4d5899f8c01e7594bf50b17dc1e741388ce3d12af90341aff9da655bc87adef88641d1b7863c689108bb42c8dd58d1222076b7d00000000000000000000000000000000000000000000000000000000000007c00000000000000000000000000000000000000000000000000000000000000629f90626b90214f90211a07dcc82dbc36188c7db4b900978822cfa2a7098d9d95d4e7de5279d6b64ae9321a040cdfa90d7a98e743348ff163a788e2af142da2e515741a12c1f5672690843caa0f81e937e2d5ff7c1f8a392103e8125cd54808452f10bafdc7dbb3f0fe6c4eb5ba05292df2f2fdebbcd84a7999929af2acf15c6758e2aa7707736ecbd727464c0aaa09f26d81842b6279d54c55f9dde86ec255381a43cbe65991918cc5dab37f3cd39a06e6d4b6c7a781500ca3288d65e40c36746a332e4b42ac409447cf3c68638619ea004873662e32a2c7b56263c834fa312775fca35d684a9441bebe0d065f5103671a074714750e1d267cd6090763f6ed4b173cc48d26a4a79a1dd53af4e3a9b3430bea0d414b7e6975d22d17222e76437b81de97778a6456e8ab526d25368340ca92161a08af36097d036d1a5f08f46a4697e414b1c52f4f20f469afcb56cf7524e3dc155a01f5b7ae3f9169e9781ca2bbcbde9fa9306d4c4187fc49ba6b6e6b23d5e949828a02910c1dc3fe0c125f7a5ec0ad1d108a0c65f65ee94a63d10298da93439f8e3c1a0ad5ccb80e68c6f36226137f8846944f3edda206e847ce3d89312186dacc697fda0f503a03e5f8d8c570949d4bbdfa6a2c0b05e43265d814e9a7f60c247f86bfc57a0f35389df5031dd2f43177de6bf34318e88294d2a4ab4fdef20772face2176ecca036967e3d9f4818ff6b2b6e3caa28af216bf24a15d85e701546ffa61f4053e1a280b90214f90211a0d822fcda4fe151c4f2064581d51e5ed328746437ba625f33e65ec2c8c7eba21aa0f662289e4896086e09dcb07f18a2094f1f363fdda86c4274225c8fcc07f7829ea0a4aab2b2e4a8a0180ac476ab9a82accc8346b05956b9a8ddb1d54f81ffd21b58a0e29783ba9b46fa0953dc806e6178905500e6391efcbc690150bddea9fca5a16da0c7b8e7045b33c1f238f958b23da7f56230d6660f53c98ad1cda33b65f89b2c30a02911b276f4ddca7160420f9762c4e88c54daac0510c853291ad84a19f1e4d738a02dcbcdafd3ca410c40b27eb12bbada85f669525ac421ec238eedffc1af6682f0a0f372795b70986564542ae8e7fa34dab8254e3aa5066371de1d996625acbb3f5aa083a031b59ee4cc4810c88c494a7536192d2c1465d3d4165a73fb80708e84035ea0e0d7e87d380fc47f7343c164389a5575249c0e2caf6832530a9aee80317ab6bda070889002b1a0e8c378a0136989c5cd454eb253130a79c8aecf7ce72a56f3b058a086266fdae49d7402035874ba3415faf0b122e3505cac9918bcdda5aeee8f6776a071fdba718a53a53fc6fa3c257004872055e63500cec3fbd2ea10d2f754988746a04ded84487206ab7ecdc06c4becf4f1fab099a34c79176c2236a8861189a4e516a05d77c140426669a57e2bb45a5cd1ff5ca3a3b31f2e62a787dd2543f48bf0b995a068f06f0af8adaacd27c0a5d19addd50994ce29e6420ea4f0cd8e956e06b5612180b90114f9011180a0b018aba825122f4555c6174cab9fc3276a6b70428735d33b6fbe7c597a59914780a0a2f7ffc069829cff1d8e4a969167598b3e46d5149e80934c26475d12d2272dfda0c35f91833c6efa993e1f26cc0571256ab0422f37d422f0ea8cfb0b0530cc54698080a0988265144dc92519e0a4e9ee4d629022b47a9996aac1aca5db472353b43a57f1a0ce7516edb303a37049b66673cffb8720e360d237b4fa8cb46b5716d7a1dda4c18080a02aa926323a8dbf542712191637088ccc6b6964eef3435b8142c6c342ef13571da054ee670c1c6864a7bfa9e8af8393db0b18aa34ccc057050ba4eb46e910ade7548080a090d39acd37397ec1eaebd2bc3c9a135deddaef827c3f946ddacdbda9a230fefc80b873f8718080a08f17f0effe21da2c9ab16a179bb0971bd0de6510b8228699794cf808ceabc7b6808080a0a11d07be3edb03dbf2513953119dd5f2141bec035eb594d6ad6c6f56f5e81107808080808080a0564629cac7ad1b80555d8ca148c3927b085caeac7641db74b2735202706f9375808080b86af8689f200e45164e07e0e4df7165de40d5863fb7b8ece896a164bf57a134287c68f5b846f8440180a05b0bab1651ce4195a91d85e96648433475fef18ed37b8f47ad5a7e307180f3f8a0a95c0f46c44321e5ea1738b223e05b6469ed5faee500fa9057ecce6f43bfabb7000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000020141b16ef2729ef0a65a457e4e69d42ed6ee115ff15affac0dedea1a3b2eebeef000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000001c1f901beb90174f9017180a0cdd5ca9dcbc532146838bf3eab2717959c7dbf0e82ca2984169a01f9bb99dac780a0194f85e38715bca1f031cc5b7878826c81589c7cf04cc8f2366bb5907873f004a041b9367a6c563101ccb35e90c65eb5c34e780facac4d50a70da820a57d29fd6ca0d41a0a711a3d8e65ce6e044d76b8e345c7c096af8e4835a4f1b930e320f6c5e7a0911c15124fc3a4d2076ba552707ea14bd6206b7d717ac3d4112f1ecde15674fba084c1f3a6482ee7fa37c0d0585b8c829e40727b4085f05432a20e7086bc470bd1a057b4a569028497cce53bcfeb8d91945ca40fd429e61de0775bfae8977c6d2144a084284eb21d95e0154a9871b2833f6b8edd52909a4468b5bb3c5c80acdf0c7bb1a082d06343ee2ee63585c234b715dddec2b6867dba006abf1054816c6b4d31974380a09f0d39eceba32ae5344c5174f0940c45747b4122583b3f6801842a1b187c48848080a01fc9f125e32decb56cddfc91b72513b0965c9fb71d296595f9e1f3b51d19bfb180b845f843a03b0644ef42dc1a1c3aa1150da9c86ead1011652c9093d24bfb42746bd7908bf9a1a076a91462e907b15cbf27d5425399ebf6f0fb50ebb88f1888ac00000000000032000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000164f8c30f63000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000000000000000000b05616c69636503657468000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044f1cb7e06787192fc5378cc32aa956ddfdedbf26b24e8d78e40109add0eea2c1a012c3dec00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000148111dfd23b99233a7ae871b7c09ccf0722847d8900000000000000000000000000000000000000000000000000000000000000000000000000000000";

        const [response, extraData] = new ethers.utils.Interface([
            "function resolveWithProof(bytes calldata response, bytes calldata extraData) public view returns (address)",
        ]).decodeFunctionData("resolveWithProof", cd);

        const res = await l2PublicResolverVerifier.resolveBlockchainAddress(response, extraData);
        console.log("res", res)
    });
    it("resolveContentHash ", async () => {
        const [owner] = await ethers.getSigners();
        const bedrockProofVerifier: FakeContract<BedrockProofVerifier> = (await smock.fake<BedrockProofVerifier>(
            "ccip-resolver/contracts/verifier/optimism-bedrock/IBedrockProofVerifier.sol:IBedrockProofVerifier"
        )) as FakeContract<BedrockProofVerifier>;
        bedrockProofVerifier.getProofValue.returnsAtCall(0, "0x");

        bedrockProofVerifier.getProofValue.returnsAtCall(1, "0xe3010170122029f2d17be6139079dc48696d1f582a8530eb9805b561eda517e22a892c7e3f1f");

        const l2PublicResolverVerifier: L2PublicResolverVerifier = await new L2PublicResolverVerifier__factory()
            .connect(owner)
            .deploy(owner.address, "", "", 420, bedrockProofVerifier.address, "0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0");
        const cd =
            "0xf4d4d2f80000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000198000000000000000000000000000000000000000000000000000000000000019200000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000b000000000000000000000000000000000000000000000000000000000000000aa000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000009fe46736679d2d9a65f0992f2272de9f3c7fa6e000000000000000000000000000000000000000000000000000000000000000205b0bab1651ce4195a91d85e96648433475fef18ed37b8f47ad5a7e307180f3f8000000000000000000000000000000000000000000000000000000000000016000000000000000000000000000000000000000000000000000000000000000210000000000000000000000000000000000000000000000000000000000000000e2bf01b12df9a2e6083da56459a28b93c3d8ffae6f45562fe79d5d62d72936818ed4baae3a927be3dea54996b4d5899f8c01e7594bf50b17dc1e741388ce3d1201bf8d83873b93a35c3fd26fdbb171b840c0d764a14291556930866fd840aaf600000000000000000000000000000000000000000000000000000000000007c00000000000000000000000000000000000000000000000000000000000000629f90626b90214f90211a07dcc82dbc36188c7db4b900978822cfa2a7098d9d95d4e7de5279d6b64ae9321a040cdfa90d7a98e743348ff163a788e2af142da2e515741a12c1f5672690843caa0f81e937e2d5ff7c1f8a392103e8125cd54808452f10bafdc7dbb3f0fe6c4eb5ba05292df2f2fdebbcd84a7999929af2acf15c6758e2aa7707736ecbd727464c0aaa0b8e2b068ec3dd2dbadaf554c2cc703ec3b799a073b836a63fbe11809de1944dfa06e6d4b6c7a781500ca3288d65e40c36746a332e4b42ac409447cf3c68638619ea004873662e32a2c7b56263c834fa312775fca35d684a9441bebe0d065f5103671a074714750e1d267cd6090763f6ed4b173cc48d26a4a79a1dd53af4e3a9b3430bea0c69a4a94ff49f36248a95124796203cee0fc98a95b20a7cfe1fc8f8bf72406dba08af36097d036d1a5f08f46a4697e414b1c52f4f20f469afcb56cf7524e3dc155a01f5b7ae3f9169e9781ca2bbcbde9fa9306d4c4187fc49ba6b6e6b23d5e949828a02910c1dc3fe0c125f7a5ec0ad1d108a0c65f65ee94a63d10298da93439f8e3c1a0ad5ccb80e68c6f36226137f8846944f3edda206e847ce3d89312186dacc697fda0f503a03e5f8d8c570949d4bbdfa6a2c0b05e43265d814e9a7f60c247f86bfc57a0f35389df5031dd2f43177de6bf34318e88294d2a4ab4fdef20772face2176ecca036967e3d9f4818ff6b2b6e3caa28af216bf24a15d85e701546ffa61f4053e1a280b90214f90211a0d822fcda4fe151c4f2064581d51e5ed328746437ba625f33e65ec2c8c7eba21aa0f662289e4896086e09dcb07f18a2094f1f363fdda86c4274225c8fcc07f7829ea0a4aab2b2e4a8a0180ac476ab9a82accc8346b05956b9a8ddb1d54f81ffd21b58a0e29783ba9b46fa0953dc806e6178905500e6391efcbc690150bddea9fca5a16da0c7b8e7045b33c1f238f958b23da7f56230d6660f53c98ad1cda33b65f89b2c30a02911b276f4ddca7160420f9762c4e88c54daac0510c853291ad84a19f1e4d738a02dcbcdafd3ca410c40b27eb12bbada85f669525ac421ec238eedffc1af6682f0a0f372795b70986564542ae8e7fa34dab8254e3aa5066371de1d996625acbb3f5aa083a031b59ee4cc4810c88c494a7536192d2c1465d3d4165a73fb80708e84035ea0e0d7e87d380fc47f7343c164389a5575249c0e2caf6832530a9aee80317ab6bda070889002b1a0e8c378a0136989c5cd454eb253130a79c8aecf7ce72a56f3b058a086266fdae49d7402035874ba3415faf0b122e3505cac9918bcdda5aeee8f6776a071fdba718a53a53fc6fa3c257004872055e63500cec3fbd2ea10d2f754988746a04ded84487206ab7ecdc06c4becf4f1fab099a34c79176c2236a8861189a4e516a05d77c140426669a57e2bb45a5cd1ff5ca3a3b31f2e62a787dd2543f48bf0b995a068f06f0af8adaacd27c0a5d19addd50994ce29e6420ea4f0cd8e956e06b5612180b90114f9011180a0b018aba825122f4555c6174cab9fc3276a6b70428735d33b6fbe7c597a59914780a0a2f7ffc069829cff1d8e4a969167598b3e46d5149e80934c26475d12d2272dfda0c35f91833c6efa993e1f26cc0571256ab0422f37d422f0ea8cfb0b0530cc54698080a0988265144dc92519e0a4e9ee4d629022b47a9996aac1aca5db472353b43a57f1a0ce7516edb303a37049b66673cffb8720e360d237b4fa8cb46b5716d7a1dda4c18080a02aa926323a8dbf542712191637088ccc6b6964eef3435b8142c6c342ef13571da054ee670c1c6864a7bfa9e8af8393db0b18aa34ccc057050ba4eb46e910ade7548080a090d39acd37397ec1eaebd2bc3c9a135deddaef827c3f946ddacdbda9a230fefc80b873f8718080a08f17f0effe21da2c9ab16a179bb0971bd0de6510b8228699794cf808ceabc7b6808080a0a11d07be3edb03dbf2513953119dd5f2141bec035eb594d6ad6c6f56f5e81107808080808080a0564629cac7ad1b80555d8ca148c3927b085caeac7641db74b2735202706f9375808080b86af8689f200e45164e07e0e4df7165de40d5863fb7b8ece896a164bf57a134287c68f5b846f8440180a05b0bab1651ce4195a91d85e96648433475fef18ed37b8f47ad5a7e307180f3f8a0a95c0f46c44321e5ea1738b223e05b6469ed5faee500fa9057ecce6f43bfabb70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000201c9438ff6aca2f6dd772733c3ea4f5f772e564a776ac09ab641a80d6ffb243d6000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000001cff901ccb90174f9017180a0cdd5ca9dcbc532146838bf3eab2717959c7dbf0e82ca2984169a01f9bb99dac780a0194f85e38715bca1f031cc5b7878826c81589c7cf04cc8f2366bb5907873f004a041b9367a6c563101ccb35e90c65eb5c34e780facac4d50a70da820a57d29fd6ca0d41a0a711a3d8e65ce6e044d76b8e345c7c096af8e4835a4f1b930e320f6c5e7a0911c15124fc3a4d2076ba552707ea14bd6206b7d717ac3d4112f1ecde15674fba084c1f3a6482ee7fa37c0d0585b8c829e40727b4085f05432a20e7086bc470bd1a057b4a569028497cce53bcfeb8d91945ca40fd429e61de0775bfae8977c6d2144a084284eb21d95e0154a9871b2833f6b8edd52909a4468b5bb3c5c80acdf0c7bb1a082d06343ee2ee63585c234b715dddec2b6867dba006abf1054816c6b4d31974380a09f0d39eceba32ae5344c5174f0940c45747b4122583b3f6801842a1b187c48848080a01fc9f125e32decb56cddfc91b72513b0965c9fb71d296595f9e1f3b51d19bfb180b853f8518080a0b6978c0beff22ab7b1aca6260b002a8c300f4b38f7f11c9e82c4e90b6bb0306b8080808080a0c75558bdd876f6b41347de319b0cbb57718410f3c7b8317bb3cfcb898c5a41c9808080808080808000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000dc0000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000026e3010170122029f2d17be6139079dc48696d1f582a8530eb9805b561eda517e22a892c7e3f1f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000009fe46736679d2d9a65f0992f2272de9f3c7fa6e000000000000000000000000000000000000000000000000000000000000000265b0bab1651ce4195a91d85e96648433475fef18ed37b8f47ad5a7e307180f3f8000000000000000000000000000000000000000000000000000000000000016000000000000000000000000000000000000000000000000000000000000000210000000000000000000000000000000000000000000000000000000000000000e2bf01b12df9a2e6083da56459a28b93c3d8ffae6f45562fe79d5d62d72936818ed4baae3a927be3dea54996b4d5899f8c01e7594bf50b17dc1e741388ce3d1201bf8d83873b93a35c3fd26fdbb171b840c0d764a14291556930866fd840aaf600000000000000000000000000000000000000000000000000000000000007c00000000000000000000000000000000000000000000000000000000000000629f90626b90214f90211a07dcc82dbc36188c7db4b900978822cfa2a7098d9d95d4e7de5279d6b64ae9321a040cdfa90d7a98e743348ff163a788e2af142da2e515741a12c1f5672690843caa0f81e937e2d5ff7c1f8a392103e8125cd54808452f10bafdc7dbb3f0fe6c4eb5ba05292df2f2fdebbcd84a7999929af2acf15c6758e2aa7707736ecbd727464c0aaa0b8e2b068ec3dd2dbadaf554c2cc703ec3b799a073b836a63fbe11809de1944dfa06e6d4b6c7a781500ca3288d65e40c36746a332e4b42ac409447cf3c68638619ea004873662e32a2c7b56263c834fa312775fca35d684a9441bebe0d065f5103671a074714750e1d267cd6090763f6ed4b173cc48d26a4a79a1dd53af4e3a9b3430bea0c69a4a94ff49f36248a95124796203cee0fc98a95b20a7cfe1fc8f8bf72406dba08af36097d036d1a5f08f46a4697e414b1c52f4f20f469afcb56cf7524e3dc155a01f5b7ae3f9169e9781ca2bbcbde9fa9306d4c4187fc49ba6b6e6b23d5e949828a02910c1dc3fe0c125f7a5ec0ad1d108a0c65f65ee94a63d10298da93439f8e3c1a0ad5ccb80e68c6f36226137f8846944f3edda206e847ce3d89312186dacc697fda0f503a03e5f8d8c570949d4bbdfa6a2c0b05e43265d814e9a7f60c247f86bfc57a0f35389df5031dd2f43177de6bf34318e88294d2a4ab4fdef20772face2176ecca036967e3d9f4818ff6b2b6e3caa28af216bf24a15d85e701546ffa61f4053e1a280b90214f90211a0d822fcda4fe151c4f2064581d51e5ed328746437ba625f33e65ec2c8c7eba21aa0f662289e4896086e09dcb07f18a2094f1f363fdda86c4274225c8fcc07f7829ea0a4aab2b2e4a8a0180ac476ab9a82accc8346b05956b9a8ddb1d54f81ffd21b58a0e29783ba9b46fa0953dc806e6178905500e6391efcbc690150bddea9fca5a16da0c7b8e7045b33c1f238f958b23da7f56230d6660f53c98ad1cda33b65f89b2c30a02911b276f4ddca7160420f9762c4e88c54daac0510c853291ad84a19f1e4d738a02dcbcdafd3ca410c40b27eb12bbada85f669525ac421ec238eedffc1af6682f0a0f372795b70986564542ae8e7fa34dab8254e3aa5066371de1d996625acbb3f5aa083a031b59ee4cc4810c88c494a7536192d2c1465d3d4165a73fb80708e84035ea0e0d7e87d380fc47f7343c164389a5575249c0e2caf6832530a9aee80317ab6bda070889002b1a0e8c378a0136989c5cd454eb253130a79c8aecf7ce72a56f3b058a086266fdae49d7402035874ba3415faf0b122e3505cac9918bcdda5aeee8f6776a071fdba718a53a53fc6fa3c257004872055e63500cec3fbd2ea10d2f754988746a04ded84487206ab7ecdc06c4becf4f1fab099a34c79176c2236a8861189a4e516a05d77c140426669a57e2bb45a5cd1ff5ca3a3b31f2e62a787dd2543f48bf0b995a068f06f0af8adaacd27c0a5d19addd50994ce29e6420ea4f0cd8e956e06b5612180b90114f9011180a0b018aba825122f4555c6174cab9fc3276a6b70428735d33b6fbe7c597a59914780a0a2f7ffc069829cff1d8e4a969167598b3e46d5149e80934c26475d12d2272dfda0c35f91833c6efa993e1f26cc0571256ab0422f37d422f0ea8cfb0b0530cc54698080a0988265144dc92519e0a4e9ee4d629022b47a9996aac1aca5db472353b43a57f1a0ce7516edb303a37049b66673cffb8720e360d237b4fa8cb46b5716d7a1dda4c18080a02aa926323a8dbf542712191637088ccc6b6964eef3435b8142c6c342ef13571da054ee670c1c6864a7bfa9e8af8393db0b18aa34ccc057050ba4eb46e910ade7548080a090d39acd37397ec1eaebd2bc3c9a135deddaef827c3f946ddacdbda9a230fefc80b873f8718080a08f17f0effe21da2c9ab16a179bb0971bd0de6510b8228699794cf808ceabc7b6808080a0a11d07be3edb03dbf2513953119dd5f2141bec035eb594d6ad6c6f56f5e81107808080808080a0564629cac7ad1b80555d8ca148c3927b085caeac7641db74b2735202706f9375808080b86af8689f200e45164e07e0e4df7165de40d5863fb7b8ece896a164bf57a134287c68f5b846f8440180a05b0bab1651ce4195a91d85e96648433475fef18ed37b8f47ad5a7e307180f3f8a0a95c0f46c44321e5ea1738b223e05b6469ed5faee500fa9057ecce6f43bfabb700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000002c098285424b46785f9ac8ba0d0aea01f282c020acb0264c4e3b7771be699f5ab5700000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000216f90213b90174f9017180a0cdd5ca9dcbc532146838bf3eab2717959c7dbf0e82ca2984169a01f9bb99dac780a0194f85e38715bca1f031cc5b7878826c81589c7cf04cc8f2366bb5907873f004a041b9367a6c563101ccb35e90c65eb5c34e780facac4d50a70da820a57d29fd6ca0d41a0a711a3d8e65ce6e044d76b8e345c7c096af8e4835a4f1b930e320f6c5e7a0911c15124fc3a4d2076ba552707ea14bd6206b7d717ac3d4112f1ecde15674fba084c1f3a6482ee7fa37c0d0585b8c829e40727b4085f05432a20e7086bc470bd1a057b4a569028497cce53bcfeb8d91945ca40fd429e61de0775bfae8977c6d2144a084284eb21d95e0154a9871b2833f6b8edd52909a4468b5bb3c5c80acdf0c7bb1a082d06343ee2ee63585c234b715dddec2b6867dba006abf1054816c6b4d31974380a09f0d39eceba32ae5344c5174f0940c45747b4122583b3f6801842a1b187c48848080a01fc9f125e32decb56cddfc91b72513b0965c9fb71d296595f9e1f3b51d19bfb180b853f8518080a0ee8d54de06006cea8d2c0ecbea984cb779a97722a655a254b57cfa41c63d2b67808080a09b2ea8f2f27e9a9b0a9904980f86e23661296236e3007dc409b2efadf8b991dc80808080808080808080b845f843a020e769eb562cacbe4c8808e35aa30539ac3148403c9a8126bd129d0757fbc447a1a0e3010170122029f2d17be6139079dc48696d1f582a8530eb9805b561eda517e20000000000000000000098285424b46785f9ac8ba0d0aea01f282c020acb0264c4e3b7771be699f5ab58000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000001c1f901beb90174f9017180a0cdd5ca9dcbc532146838bf3eab2717959c7dbf0e82ca2984169a01f9bb99dac780a0194f85e38715bca1f031cc5b7878826c81589c7cf04cc8f2366bb5907873f004a041b9367a6c563101ccb35e90c65eb5c34e780facac4d50a70da820a57d29fd6ca0d41a0a711a3d8e65ce6e044d76b8e345c7c096af8e4835a4f1b930e320f6c5e7a0911c15124fc3a4d2076ba552707ea14bd6206b7d717ac3d4112f1ecde15674fba084c1f3a6482ee7fa37c0d0585b8c829e40727b4085f05432a20e7086bc470bd1a057b4a569028497cce53bcfeb8d91945ca40fd429e61de0775bfae8977c6d2144a084284eb21d95e0154a9871b2833f6b8edd52909a4468b5bb3c5c80acdf0c7bb1a082d06343ee2ee63585c234b715dddec2b6867dba006abf1054816c6b4d31974380a09f0d39eceba32ae5344c5174f0940c45747b4122583b3f6801842a1b187c48848080a01fc9f125e32decb56cddfc91b72513b0965c9fb71d296595f9e1f3b51d19bfb180b845f843a034f52d08f6715cebdd3a045a04a7568a02f91a8e94728dbd1f561180ab3b202ea1a02a892c7e3f1f0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000144f8c30f63000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000b05616c69636503657468000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000024bc1c58d1787192fc5378cc32aa956ddfdedbf26b24e8d78e40109add0eea2c1a012c3dec0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000148111dfd23b99233a7ae871b7c09ccf0722847d8900000000000000000000000000000000000000000000000000000000000000000000000000000000";

        const [response, extraData] = new ethers.utils.Interface([
            "function resolveWithProof(bytes calldata response, bytes calldata extraData) public view returns (address)",
        ]).decodeFunctionData("resolveWithProof", cd);

        const res = await l2PublicResolverVerifier.resolveContentHash(response, extraData);
        expect(res).to.eq("0xe3010170122029f2d17be6139079dc48696d1f582a8530eb9805b561eda517e22a892c7e3f1f");
    });
    it("resolveAddress ", async () => {
        const [owner] = await ethers.getSigners();
        const bedrockProofVerifier: FakeContract<BedrockProofVerifier> = (await smock.fake<BedrockProofVerifier>(
            "ccip-resolver/contracts/verifier/optimism-bedrock/IBedrockProofVerifier.sol:IBedrockProofVerifier"
        )) as FakeContract<BedrockProofVerifier>;
        bedrockProofVerifier.getProofValue.returnsAtCall(0, "0x");

        bedrockProofVerifier.getProofValue.returnsAtCall(1, "0x8111dfd23b99233a7ae871b7c09ccf0722847d89000000000000000000000028");

        const l2PublicResolverVerifier: L2PublicResolverVerifier = await new L2PublicResolverVerifier__factory()
            .connect(owner)
            .deploy(owner.address, "", "", 420, bedrockProofVerifier.address, "0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0");
        const cd =
            "0xf4d4d2f8000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000017c000000000000000000000000000000000000000000000000000000000000017600000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000b800000000000000000000000000000000000000000000000000000000000000b2000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000009fe46736679d2d9a65f0992f2272de9f3c7fa6e00000000000000000000000000000000000000000000000000000000000000020759793e3c90b7b4bcc75a9f2b69d8d4fb71d68f39050afc2c991b588246d5b6a0000000000000000000000000000000000000000000000000000000000000160000000000000000000000000000000000000000000000000000000000000036c0000000000000000000000000000000000000000000000000000000000000000a3f9aadf9e445931267120298b6dcf975d2609e7da6345cf80e001409f72f2dd8ed4baae3a927be3dea54996b4d5899f8c01e7594bf50b17dc1e741388ce3d1212697ab5b942c07b2e5dd8007ce7136d69d1aa5684f682645f663a8711252d6c00000000000000000000000000000000000000000000000000000000000007c00000000000000000000000000000000000000000000000000000000000000629f90626b90214f90211a0dfc13a288b208261ae16b512b1378b511bc095daa187f025cc781e93960fb3a1a06102b115ec4111e77fbd464e152c055fffc26ff45f1067912400e633ecf332d2a0f81e937e2d5ff7c1f8a392103e8125cd54808452f10bafdc7dbb3f0fe6c4eb5ba02b1d17612d0815e932a586dc88b3909220398a27d92e78bbeff080ecaa8b9967a0f5e18af154023ebee14a2468844711af67c03d71ffc356256b96e1906426ebcfa06e6d4b6c7a781500ca3288d65e40c36746a332e4b42ac409447cf3c68638619ea004873662e32a2c7b56263c834fa312775fca35d684a9441bebe0d065f5103671a074714750e1d267cd6090763f6ed4b173cc48d26a4a79a1dd53af4e3a9b3430bea0e2de5ca820c7f22159283c2526f8fdad63d42c48c569967e773dda91c7b14c6ca0e21f3b43f782d6c3bafae18e9d37cd38a6a8a266d11125f7d8cf605558be7b12a01f5b7ae3f9169e9781ca2bbcbde9fa9306d4c4187fc49ba6b6e6b23d5e949828a02910c1dc3fe0c125f7a5ec0ad1d108a0c65f65ee94a63d10298da93439f8e3c1a0ad5ccb80e68c6f36226137f8846944f3edda206e847ce3d89312186dacc697fda0f503a03e5f8d8c570949d4bbdfa6a2c0b05e43265d814e9a7f60c247f86bfc57a03d7810d74c0d3bfca6a9b57d49672fb0f4fb279115c01188a20f1ee9cd8cfa36a02024ed006edaa1672eae4e319db1291d99d7efa2d658ce8a5acb0d736c66585580b90214f90211a0d822fcda4fe151c4f2064581d51e5ed328746437ba625f33e65ec2c8c7eba21aa0f662289e4896086e09dcb07f18a2094f1f363fdda86c4274225c8fcc07f7829ea0a4aab2b2e4a8a0180ac476ab9a82accc8346b05956b9a8ddb1d54f81ffd21b58a0e29783ba9b46fa0953dc806e6178905500e6391efcbc690150bddea9fca5a16da0c7b8e7045b33c1f238f958b23da7f56230d6660f53c98ad1cda33b65f89b2c30a02911b276f4ddca7160420f9762c4e88c54daac0510c853291ad84a19f1e4d738a02dcbcdafd3ca410c40b27eb12bbada85f669525ac421ec238eedffc1af6682f0a0f372795b70986564542ae8e7fa34dab8254e3aa5066371de1d996625acbb3f5aa001dbc8a7899dea9eb2aa09de9476da82cff8c68cf5c08858938b778e306fd368a0e0d7e87d380fc47f7343c164389a5575249c0e2caf6832530a9aee80317ab6bda0f44d9581d5c43aa3f3fe46ff5d9ccdaa5062579fe9d037462f8e50611d827700a086266fdae49d7402035874ba3415faf0b122e3505cac9918bcdda5aeee8f6776a071fdba718a53a53fc6fa3c257004872055e63500cec3fbd2ea10d2f754988746a04ded84487206ab7ecdc06c4becf4f1fab099a34c79176c2236a8861189a4e516a05d77c140426669a57e2bb45a5cd1ff5ca3a3b31f2e62a787dd2543f48bf0b995a068f06f0af8adaacd27c0a5d19addd50994ce29e6420ea4f0cd8e956e06b5612180b90114f9011180a0b018aba825122f4555c6174cab9fc3276a6b70428735d33b6fbe7c597a59914780a0a2f7ffc069829cff1d8e4a969167598b3e46d5149e80934c26475d12d2272dfda0ce91364d98ca7a2db318562b28692e2ea7059d26b9707fbcf1cc587cfac2d4de8080a0988265144dc92519e0a4e9ee4d629022b47a9996aac1aca5db472353b43a57f1a0ce7516edb303a37049b66673cffb8720e360d237b4fa8cb46b5716d7a1dda4c18080a02aa926323a8dbf542712191637088ccc6b6964eef3435b8142c6c342ef13571da054ee670c1c6864a7bfa9e8af8393db0b18aa34ccc057050ba4eb46e910ade7548080a090d39acd37397ec1eaebd2bc3c9a135deddaef827c3f946ddacdbda9a230fefc80b873f8718080a08f17f0effe21da2c9ab16a179bb0971bd0de6510b8228699794cf808ceabc7b6808080a03d27c1073245c5ccf1b0939c4fd2361dfd26722c2a5d3a9910d25164511a3076808080808080a0564629cac7ad1b80555d8ca148c3927b085caeac7641db74b2735202706f9375808080b86af8689f200e45164e07e0e4df7165de40d5863fb7b8ece896a164bf57a134287c68f5b846f8440180a0759793e3c90b7b4bcc75a9f2b69d8d4fb71d68f39050afc2c991b588246d5b6aa045186230579d5a65ae5c328d2a37943a90eb306ff8c440299c094a72416374070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000201c9438ff6aca2f6dd772733c3ea4f5f772e564a776ac09ab641a80d6ffb243d600000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000241f9023eb901f4f901f1a09e9e0b33c41264a19b98e952afb52f54f65ae3426e817d9f5606938f500cafd5a0cdd5ca9dcbc532146838bf3eab2717959c7dbf0e82ca2984169a01f9bb99dac7a0b41fabf41b9b8811dfb6eeccb88925a7e7fdbbbccb54f81d47af5430564c2b3da0faf568a438f830ee0fe615971f535bbd04feb43625d185f1ab5c37db81a89b82a092082de4e059207736a7c9a08127dc3d1ba7d6b3ec162a176605d0de28263a17a047bc6c5cf0df6be11b826039fb6584bbada8ec6f395ce7317ab6a1c476872f31a0942378ea08308c8097722d65fa8299cdaf01a500b6c5c35e64636cd29406a1daa0a898979dc0c43e5254f4318b7f2106dd892df1df2a40e2e31d07085b1c159ea6a0d9d8cb5448fbf95e604c2d23c7e53fa357a863c8fa6abd8b2f8b61a577e88916a0a5147911a8b0aa24649bc7a88cee35d94945e60e76a291da9c3f379af2fc2025a0af5cd58d38d8b8224e6f3cb1bb52a35451a5e98abe8d448e9fa40824940c21f680a07c9bd2fe59a6e1343258616930662862d71f36d8b6ba04a9bbb6bbf09346bda0a05f22f4cf593885a5dd0e49fd180299cbc5c68df34e67145b489edc4f78765e88a0326f43cffa2a9bd8dcd44abdeb8634538fdc74cd3e87a11e1fa00d18560d2563a0047ee4e8a68ae807659bf2f371a1b30e83b1aeaf38f08f9c0cfa7e67c823db0080b845f843a032033695275cd867e3673c0f6eac110e116b33c5f8b4d83f266a3b9beb8390a8a1a06261720000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b800000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000208111dfd23b99233a7ae871b7c09ccf0722847d8900000000000000000000002800000000000000000000000000000000000000000000000000000000000000000000000000000000000000009fe46736679d2d9a65f0992f2272de9f3c7fa6e00000000000000000000000000000000000000000000000000000000000000020759793e3c90b7b4bcc75a9f2b69d8d4fb71d68f39050afc2c991b588246d5b6a0000000000000000000000000000000000000000000000000000000000000160000000000000000000000000000000000000000000000000000000000000036c0000000000000000000000000000000000000000000000000000000000000000a3f9aadf9e445931267120298b6dcf975d2609e7da6345cf80e001409f72f2dd8ed4baae3a927be3dea54996b4d5899f8c01e7594bf50b17dc1e741388ce3d1212697ab5b942c07b2e5dd8007ce7136d69d1aa5684f682645f663a8711252d6c00000000000000000000000000000000000000000000000000000000000007c00000000000000000000000000000000000000000000000000000000000000629f90626b90214f90211a0dfc13a288b208261ae16b512b1378b511bc095daa187f025cc781e93960fb3a1a06102b115ec4111e77fbd464e152c055fffc26ff45f1067912400e633ecf332d2a0f81e937e2d5ff7c1f8a392103e8125cd54808452f10bafdc7dbb3f0fe6c4eb5ba02b1d17612d0815e932a586dc88b3909220398a27d92e78bbeff080ecaa8b9967a0f5e18af154023ebee14a2468844711af67c03d71ffc356256b96e1906426ebcfa06e6d4b6c7a781500ca3288d65e40c36746a332e4b42ac409447cf3c68638619ea004873662e32a2c7b56263c834fa312775fca35d684a9441bebe0d065f5103671a074714750e1d267cd6090763f6ed4b173cc48d26a4a79a1dd53af4e3a9b3430bea0e2de5ca820c7f22159283c2526f8fdad63d42c48c569967e773dda91c7b14c6ca0e21f3b43f782d6c3bafae18e9d37cd38a6a8a266d11125f7d8cf605558be7b12a01f5b7ae3f9169e9781ca2bbcbde9fa9306d4c4187fc49ba6b6e6b23d5e949828a02910c1dc3fe0c125f7a5ec0ad1d108a0c65f65ee94a63d10298da93439f8e3c1a0ad5ccb80e68c6f36226137f8846944f3edda206e847ce3d89312186dacc697fda0f503a03e5f8d8c570949d4bbdfa6a2c0b05e43265d814e9a7f60c247f86bfc57a03d7810d74c0d3bfca6a9b57d49672fb0f4fb279115c01188a20f1ee9cd8cfa36a02024ed006edaa1672eae4e319db1291d99d7efa2d658ce8a5acb0d736c66585580b90214f90211a0d822fcda4fe151c4f2064581d51e5ed328746437ba625f33e65ec2c8c7eba21aa0f662289e4896086e09dcb07f18a2094f1f363fdda86c4274225c8fcc07f7829ea0a4aab2b2e4a8a0180ac476ab9a82accc8346b05956b9a8ddb1d54f81ffd21b58a0e29783ba9b46fa0953dc806e6178905500e6391efcbc690150bddea9fca5a16da0c7b8e7045b33c1f238f958b23da7f56230d6660f53c98ad1cda33b65f89b2c30a02911b276f4ddca7160420f9762c4e88c54daac0510c853291ad84a19f1e4d738a02dcbcdafd3ca410c40b27eb12bbada85f669525ac421ec238eedffc1af6682f0a0f372795b70986564542ae8e7fa34dab8254e3aa5066371de1d996625acbb3f5aa001dbc8a7899dea9eb2aa09de9476da82cff8c68cf5c08858938b778e306fd368a0e0d7e87d380fc47f7343c164389a5575249c0e2caf6832530a9aee80317ab6bda0f44d9581d5c43aa3f3fe46ff5d9ccdaa5062579fe9d037462f8e50611d827700a086266fdae49d7402035874ba3415faf0b122e3505cac9918bcdda5aeee8f6776a071fdba718a53a53fc6fa3c257004872055e63500cec3fbd2ea10d2f754988746a04ded84487206ab7ecdc06c4becf4f1fab099a34c79176c2236a8861189a4e516a05d77c140426669a57e2bb45a5cd1ff5ca3a3b31f2e62a787dd2543f48bf0b995a068f06f0af8adaacd27c0a5d19addd50994ce29e6420ea4f0cd8e956e06b5612180b90114f9011180a0b018aba825122f4555c6174cab9fc3276a6b70428735d33b6fbe7c597a59914780a0a2f7ffc069829cff1d8e4a969167598b3e46d5149e80934c26475d12d2272dfda0ce91364d98ca7a2db318562b28692e2ea7059d26b9707fbcf1cc587cfac2d4de8080a0988265144dc92519e0a4e9ee4d629022b47a9996aac1aca5db472353b43a57f1a0ce7516edb303a37049b66673cffb8720e360d237b4fa8cb46b5716d7a1dda4c18080a02aa926323a8dbf542712191637088ccc6b6964eef3435b8142c6c342ef13571da054ee670c1c6864a7bfa9e8af8393db0b18aa34ccc057050ba4eb46e910ade7548080a090d39acd37397ec1eaebd2bc3c9a135deddaef827c3f946ddacdbda9a230fefc80b873f8718080a08f17f0effe21da2c9ab16a179bb0971bd0de6510b8228699794cf808ceabc7b6808080a03d27c1073245c5ccf1b0939c4fd2361dfd26722c2a5d3a9910d25164511a3076808080808080a0564629cac7ad1b80555d8ca148c3927b085caeac7641db74b2735202706f9375808080b86af8689f200e45164e07e0e4df7165de40d5863fb7b8ece896a164bf57a134287c68f5b846f8440180a0759793e3c90b7b4bcc75a9f2b69d8d4fb71d68f39050afc2c991b588246d5b6aa045186230579d5a65ae5c328d2a37943a90eb306ff8c440299c094a7241637407000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000020bd024851358d849da1dcd5a48a376dd37c888ba0cd8977b94dbb2a8a624a0e8200000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000296f90293b901f4f901f1a09e9e0b33c41264a19b98e952afb52f54f65ae3426e817d9f5606938f500cafd5a0cdd5ca9dcbc532146838bf3eab2717959c7dbf0e82ca2984169a01f9bb99dac7a0b41fabf41b9b8811dfb6eeccb88925a7e7fdbbbccb54f81d47af5430564c2b3da0faf568a438f830ee0fe615971f535bbd04feb43625d185f1ab5c37db81a89b82a092082de4e059207736a7c9a08127dc3d1ba7d6b3ec162a176605d0de28263a17a047bc6c5cf0df6be11b826039fb6584bbada8ec6f395ce7317ab6a1c476872f31a0942378ea08308c8097722d65fa8299cdaf01a500b6c5c35e64636cd29406a1daa0a898979dc0c43e5254f4318b7f2106dd892df1df2a40e2e31d07085b1c159ea6a0d9d8cb5448fbf95e604c2d23c7e53fa357a863c8fa6abd8b2f8b61a577e88916a0a5147911a8b0aa24649bc7a88cee35d94945e60e76a291da9c3f379af2fc2025a0af5cd58d38d8b8224e6f3cb1bb52a35451a5e98abe8d448e9fa40824940c21f680a07c9bd2fe59a6e1343258616930662862d71f36d8b6ba04a9bbb6bbf09346bda0a05f22f4cf593885a5dd0e49fd180299cbc5c68df34e67145b489edc4f78765e88a0326f43cffa2a9bd8dcd44abdeb8634538fdc74cd3e87a11e1fa00d18560d2563a0047ee4e8a68ae807659bf2f371a1b30e83b1aeaf38f08f9c0cfa7e67c823db0080b853f851808080a00bbf2d989fca7814dcb4a775ec4ca9f0cc14328572333ea43b6a0c8f00abb808a0154d74a68e336ee75e9b527b044cc7d866e5c98c2fb8847d038e8a77fc180653808080808080808080808080b845f843a020e88ac1209294d11c91b0a3825872922242b287f8d792ae3dbc68dcc179c2e6a1a08111dfd23b99233a7ae871b7c09ccf0722847d89000000000000000000000028000000000000000000000000000000000000000000000000000000000000000000000000000000000144f8c30f63000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000b05616c696365036574680000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000243b3b57de787192fc5378cc32aa956ddfdedbf26b24e8d78e40109add0eea2c1a012c3dec0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000148111dfd23b99233a7ae871b7c09ccf0722847d8900000000000000000000000000000000000000000000000000000000000000000000000000000000";

        const [response, extraData] = new ethers.utils.Interface([
            "function resolveWithProof(bytes calldata response, bytes calldata extraData) public view returns (address)",
        ]).decodeFunctionData("resolveWithProof", cd);

        const res = await l2PublicResolverVerifier.resolveAddress(response, extraData);
        expect(ethers.utils.getAddress(res)).to.eq(ethers.utils.getAddress("0x8111dfd23b99233a7ae871b7c09ccf0722847d89"));
    });

    it("resolveText increased version", async () => {
        const [owner] = await ethers.getSigners();
        const bedrockProofVerifier: FakeContract<BedrockProofVerifier> = (await smock.fake<BedrockProofVerifier>(
            "ccip-resolver/contracts/verifier/optimism-bedrock/IBedrockProofVerifier.sol:IBedrockProofVerifier"
        )) as FakeContract<BedrockProofVerifier>;

        bedrockProofVerifier.getProofValue.returnsAtCall(0, "0x01");
        bedrockProofVerifier.getProofValue.returnsAtCall(1, "0x6d792d76657273696f6e");

        console.log(BigNumber.from(1)._hex)
        console.log("hex", ethers.utils.hexlify(1))


        const l2PublicResolverVerifier: L2PublicResolverVerifier = await new L2PublicResolverVerifier__factory()
            .connect(owner)
            .deploy(owner.address, "", "", 420, bedrockProofVerifier.address, "0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0");
        const cd = "0xf4d4d2f80000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000172000000000000000000000000000000000000000000000000000000000000016c00000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000b600000000000000000000000000000000000000000000000000000000000000b00000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000001010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000009fe46736679d2d9a65f0992f2272de9f3c7fa6e000000000000000000000000000000000000000000000000000000000000000205b0bab1651ce4195a91d85e96648433475fef18ed37b8f47ad5a7e307180f3f80000000000000000000000000000000000000000000000000000000000000160000000000000000000000000000000000000000000000000000000000000000d0000000000000000000000000000000000000000000000000000000000000000e9709fc0f0a4f4fc243e9c9837878abd8d634c6b914e67892caccfefa64386368ed4baae3a927be3dea54996b4d5899f8c01e7594bf50b17dc1e741388ce3d12fd700305dafa6b422d858d3325cdef2b465b10332e1678588792db8916bcae9300000000000000000000000000000000000000000000000000000000000007c00000000000000000000000000000000000000000000000000000000000000629f90626b90214f90211a063148246c2028b68376332a4b7b2a901ce871bd0ba9028e77ca69393e5d87283a039262a96619ac6d2f8f9e74fd276cdb7367d24eaeebee7f6ef9a2becc158d9efa0f81e937e2d5ff7c1f8a392103e8125cd54808452f10bafdc7dbb3f0fe6c4eb5ba05292df2f2fdebbcd84a7999929af2acf15c6758e2aa7707736ecbd727464c0aaa0a2899049c9958e925a92ca6931981bf26e138f5dcecc425833d0075140968450a06e6d4b6c7a781500ca3288d65e40c36746a332e4b42ac409447cf3c68638619ea004873662e32a2c7b56263c834fa312775fca35d684a9441bebe0d065f5103671a074714750e1d267cd6090763f6ed4b173cc48d26a4a79a1dd53af4e3a9b3430bea02eb929b903f469c44ce51bbd7cf4d6acd7d52a4a680535bd5de75db44cd15d25a08af36097d036d1a5f08f46a4697e414b1c52f4f20f469afcb56cf7524e3dc155a01f5b7ae3f9169e9781ca2bbcbde9fa9306d4c4187fc49ba6b6e6b23d5e949828a02910c1dc3fe0c125f7a5ec0ad1d108a0c65f65ee94a63d10298da93439f8e3c1a0ad5ccb80e68c6f36226137f8846944f3edda206e847ce3d89312186dacc697fda0f503a03e5f8d8c570949d4bbdfa6a2c0b05e43265d814e9a7f60c247f86bfc57a013471f39884b036eedc89943d25caf040a3bc61ef9e1eb9764ea606d7390a4fca036967e3d9f4818ff6b2b6e3caa28af216bf24a15d85e701546ffa61f4053e1a280b90214f90211a0d822fcda4fe151c4f2064581d51e5ed328746437ba625f33e65ec2c8c7eba21aa0f662289e4896086e09dcb07f18a2094f1f363fdda86c4274225c8fcc07f7829ea0a4aab2b2e4a8a0180ac476ab9a82accc8346b05956b9a8ddb1d54f81ffd21b58a0e29783ba9b46fa0953dc806e6178905500e6391efcbc690150bddea9fca5a16da0c7b8e7045b33c1f238f958b23da7f56230d6660f53c98ad1cda33b65f89b2c30a02911b276f4ddca7160420f9762c4e88c54daac0510c853291ad84a19f1e4d738a02dcbcdafd3ca410c40b27eb12bbada85f669525ac421ec238eedffc1af6682f0a0f372795b70986564542ae8e7fa34dab8254e3aa5066371de1d996625acbb3f5aa083a031b59ee4cc4810c88c494a7536192d2c1465d3d4165a73fb80708e84035ea0e0d7e87d380fc47f7343c164389a5575249c0e2caf6832530a9aee80317ab6bda085c7ababa30408e9319c133a442485c2d697a8f2337909a92cf57f68a796ee1ca086266fdae49d7402035874ba3415faf0b122e3505cac9918bcdda5aeee8f6776a071fdba718a53a53fc6fa3c257004872055e63500cec3fbd2ea10d2f754988746a04ded84487206ab7ecdc06c4becf4f1fab099a34c79176c2236a8861189a4e516a05d77c140426669a57e2bb45a5cd1ff5ca3a3b31f2e62a787dd2543f48bf0b995a068f06f0af8adaacd27c0a5d19addd50994ce29e6420ea4f0cd8e956e06b5612180b90114f9011180a0b018aba825122f4555c6174cab9fc3276a6b70428735d33b6fbe7c597a59914780a0a2f7ffc069829cff1d8e4a969167598b3e46d5149e80934c26475d12d2272dfda0c35f91833c6efa993e1f26cc0571256ab0422f37d422f0ea8cfb0b0530cc54698080a0988265144dc92519e0a4e9ee4d629022b47a9996aac1aca5db472353b43a57f1a0ce7516edb303a37049b66673cffb8720e360d237b4fa8cb46b5716d7a1dda4c18080a02aa926323a8dbf542712191637088ccc6b6964eef3435b8142c6c342ef13571da054ee670c1c6864a7bfa9e8af8393db0b18aa34ccc057050ba4eb46e910ade7548080a090d39acd37397ec1eaebd2bc3c9a135deddaef827c3f946ddacdbda9a230fefc80b873f8718080a08f17f0effe21da2c9ab16a179bb0971bd0de6510b8228699794cf808ceabc7b6808080a0a11d07be3edb03dbf2513953119dd5f2141bec035eb594d6ad6c6f56f5e81107808080808080a0564629cac7ad1b80555d8ca148c3927b085caeac7641db74b2735202706f9375808080b86af8689f200e45164e07e0e4df7165de40d5863fb7b8ece896a164bf57a134287c68f5b846f8440180a05b0bab1651ce4195a91d85e96648433475fef18ed37b8f47ad5a7e307180f3f8a0a95c0f46c44321e5ea1738b223e05b6469ed5faee500fa9057ecce6f43bfabb7000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000020e07555675925d6831978befa41a593af764febf5543682a618a62aa6e49baf0700000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000213f90210b90174f9017180a0cdd5ca9dcbc532146838bf3eab2717959c7dbf0e82ca2984169a01f9bb99dac780a0194f85e38715bca1f031cc5b7878826c81589c7cf04cc8f2366bb5907873f004a041b9367a6c563101ccb35e90c65eb5c34e780facac4d50a70da820a57d29fd6ca0d41a0a711a3d8e65ce6e044d76b8e345c7c096af8e4835a4f1b930e320f6c5e7a0911c15124fc3a4d2076ba552707ea14bd6206b7d717ac3d4112f1ecde15674fba084c1f3a6482ee7fa37c0d0585b8c829e40727b4085f05432a20e7086bc470bd1a057b4a569028497cce53bcfeb8d91945ca40fd429e61de0775bfae8977c6d2144a084284eb21d95e0154a9871b2833f6b8edd52909a4468b5bb3c5c80acdf0c7bb1a082d06343ee2ee63585c234b715dddec2b6867dba006abf1054816c6b4d31974380a09f0d39eceba32ae5344c5174f0940c45747b4122583b3f6801842a1b187c48848080a01fc9f125e32decb56cddfc91b72513b0965c9fb71d296595f9e1f3b51d19bfb180b873f87180808080a05d6f31ec73983257300e56ef889de54f3af96fed83cab730b1f513d95a25c63c8080a0ef5709d6a4d9745a4e1e86d912a2b60b5d56071c82b48222679e62f5ee604963808080808080a05754d4d812899c1c07db8c9983d757c833694458e95f272abbb34315dee3239d8080a3e2a0204df276f7e2cd1fd68ed437a24919e06257d7ea430b1156b73d921dcbdca2ba01000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b00000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000a6d792d76657273696f6e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000009fe46736679d2d9a65f0992f2272de9f3c7fa6e0000000000000000000000000000000000000000000000000000000000000000a5b0bab1651ce4195a91d85e96648433475fef18ed37b8f47ad5a7e307180f3f80000000000000000000000000000000000000000000000000000000000000160000000000000000000000000000000000000000000000000000000000000000d0000000000000000000000000000000000000000000000000000000000000000e9709fc0f0a4f4fc243e9c9837878abd8d634c6b914e67892caccfefa64386368ed4baae3a927be3dea54996b4d5899f8c01e7594bf50b17dc1e741388ce3d12fd700305dafa6b422d858d3325cdef2b465b10332e1678588792db8916bcae9300000000000000000000000000000000000000000000000000000000000007c00000000000000000000000000000000000000000000000000000000000000629f90626b90214f90211a063148246c2028b68376332a4b7b2a901ce871bd0ba9028e77ca69393e5d87283a039262a96619ac6d2f8f9e74fd276cdb7367d24eaeebee7f6ef9a2becc158d9efa0f81e937e2d5ff7c1f8a392103e8125cd54808452f10bafdc7dbb3f0fe6c4eb5ba05292df2f2fdebbcd84a7999929af2acf15c6758e2aa7707736ecbd727464c0aaa0a2899049c9958e925a92ca6931981bf26e138f5dcecc425833d0075140968450a06e6d4b6c7a781500ca3288d65e40c36746a332e4b42ac409447cf3c68638619ea004873662e32a2c7b56263c834fa312775fca35d684a9441bebe0d065f5103671a074714750e1d267cd6090763f6ed4b173cc48d26a4a79a1dd53af4e3a9b3430bea02eb929b903f469c44ce51bbd7cf4d6acd7d52a4a680535bd5de75db44cd15d25a08af36097d036d1a5f08f46a4697e414b1c52f4f20f469afcb56cf7524e3dc155a01f5b7ae3f9169e9781ca2bbcbde9fa9306d4c4187fc49ba6b6e6b23d5e949828a02910c1dc3fe0c125f7a5ec0ad1d108a0c65f65ee94a63d10298da93439f8e3c1a0ad5ccb80e68c6f36226137f8846944f3edda206e847ce3d89312186dacc697fda0f503a03e5f8d8c570949d4bbdfa6a2c0b05e43265d814e9a7f60c247f86bfc57a013471f39884b036eedc89943d25caf040a3bc61ef9e1eb9764ea606d7390a4fca036967e3d9f4818ff6b2b6e3caa28af216bf24a15d85e701546ffa61f4053e1a280b90214f90211a0d822fcda4fe151c4f2064581d51e5ed328746437ba625f33e65ec2c8c7eba21aa0f662289e4896086e09dcb07f18a2094f1f363fdda86c4274225c8fcc07f7829ea0a4aab2b2e4a8a0180ac476ab9a82accc8346b05956b9a8ddb1d54f81ffd21b58a0e29783ba9b46fa0953dc806e6178905500e6391efcbc690150bddea9fca5a16da0c7b8e7045b33c1f238f958b23da7f56230d6660f53c98ad1cda33b65f89b2c30a02911b276f4ddca7160420f9762c4e88c54daac0510c853291ad84a19f1e4d738a02dcbcdafd3ca410c40b27eb12bbada85f669525ac421ec238eedffc1af6682f0a0f372795b70986564542ae8e7fa34dab8254e3aa5066371de1d996625acbb3f5aa083a031b59ee4cc4810c88c494a7536192d2c1465d3d4165a73fb80708e84035ea0e0d7e87d380fc47f7343c164389a5575249c0e2caf6832530a9aee80317ab6bda085c7ababa30408e9319c133a442485c2d697a8f2337909a92cf57f68a796ee1ca086266fdae49d7402035874ba3415faf0b122e3505cac9918bcdda5aeee8f6776a071fdba718a53a53fc6fa3c257004872055e63500cec3fbd2ea10d2f754988746a04ded84487206ab7ecdc06c4becf4f1fab099a34c79176c2236a8861189a4e516a05d77c140426669a57e2bb45a5cd1ff5ca3a3b31f2e62a787dd2543f48bf0b995a068f06f0af8adaacd27c0a5d19addd50994ce29e6420ea4f0cd8e956e06b5612180b90114f9011180a0b018aba825122f4555c6174cab9fc3276a6b70428735d33b6fbe7c597a59914780a0a2f7ffc069829cff1d8e4a969167598b3e46d5149e80934c26475d12d2272dfda0c35f91833c6efa993e1f26cc0571256ab0422f37d422f0ea8cfb0b0530cc54698080a0988265144dc92519e0a4e9ee4d629022b47a9996aac1aca5db472353b43a57f1a0ce7516edb303a37049b66673cffb8720e360d237b4fa8cb46b5716d7a1dda4c18080a02aa926323a8dbf542712191637088ccc6b6964eef3435b8142c6c342ef13571da054ee670c1c6864a7bfa9e8af8393db0b18aa34ccc057050ba4eb46e910ade7548080a090d39acd37397ec1eaebd2bc3c9a135deddaef827c3f946ddacdbda9a230fefc80b873f8718080a08f17f0effe21da2c9ab16a179bb0971bd0de6510b8228699794cf808ceabc7b6808080a0a11d07be3edb03dbf2513953119dd5f2141bec035eb594d6ad6c6f56f5e81107808080808080a0564629cac7ad1b80555d8ca148c3927b085caeac7641db74b2735202706f9375808080b86af8689f200e45164e07e0e4df7165de40d5863fb7b8ece896a164bf57a134287c68f5b846f8440180a05b0bab1651ce4195a91d85e96648433475fef18ed37b8f47ad5a7e307180f3f8a0a95c0f46c44321e5ea1738b223e05b6469ed5faee500fa9057ecce6f43bfabb7000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000020460a6bbe7fc3df797866e196fb3ed30050d0474396e94fd39284c52e753f9991000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000001c1f901beb90174f9017180a0cdd5ca9dcbc532146838bf3eab2717959c7dbf0e82ca2984169a01f9bb99dac780a0194f85e38715bca1f031cc5b7878826c81589c7cf04cc8f2366bb5907873f004a041b9367a6c563101ccb35e90c65eb5c34e780facac4d50a70da820a57d29fd6ca0d41a0a711a3d8e65ce6e044d76b8e345c7c096af8e4835a4f1b930e320f6c5e7a0911c15124fc3a4d2076ba552707ea14bd6206b7d717ac3d4112f1ecde15674fba084c1f3a6482ee7fa37c0d0585b8c829e40727b4085f05432a20e7086bc470bd1a057b4a569028497cce53bcfeb8d91945ca40fd429e61de0775bfae8977c6d2144a084284eb21d95e0154a9871b2833f6b8edd52909a4468b5bb3c5c80acdf0c7bb1a082d06343ee2ee63585c234b715dddec2b6867dba006abf1054816c6b4d31974380a09f0d39eceba32ae5344c5174f0940c45747b4122583b3f6801842a1b187c48848080a01fc9f125e32decb56cddfc91b72513b0965c9fb71d296595f9e1f3b51d19bfb180b845f843a030b27d51980f93866e5134083aa44f07d6c528543b4c38e3bdab214330acfafda1a06d792d76657273696f6e000000000000000000000000000000000000000000140000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001a4f8c30f63000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000160000000000000000000000000000000000000000000000000000000000000000903626f6203657468000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008459d1d43cbe11069ec59144113f438b6ef59dd30497769fc2dce8e2b52e3ae71ac18e47c9000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000047652656300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000014504846e80a4ee8c6eb46ec4ad64150d3f554f6b800000000000000000000000000000000000000000000000000000000000000000000000000000000"

        const [response, extraData] = new ethers.utils.Interface([
            "function resolveWithProof(bytes calldata response, bytes calldata extraData) public view returns (address)",
        ]).decodeFunctionData("resolveWithProof", cd);



        const resBytes = await l2PublicResolverVerifier.resolveText(response, extraData);
        expect(ethers.utils.toUtf8String(resBytes)).to.equal("bar");
    });
    it("resolveText", async () => {
        const [owner] = await ethers.getSigners();
        const bedrockProofVerifier: FakeContract<BedrockProofVerifier> = (await smock.fake<BedrockProofVerifier>(
            "ccip-resolver/contracts/verifier/optimism-bedrock/IBedrockProofVerifier.sol:IBedrockProofVerifier"
        )) as FakeContract<BedrockProofVerifier>;

        bedrockProofVerifier.getProofValue.returnsAtCall(0, "0x");
        bedrockProofVerifier.getProofValue.returnsAtCall(1, "0x626172");
        console.log("enc hash ", ethers.utils.defaultAbiCoder.encode(["uint256"], [0]));
        console.log("bn zero ", BigNumber.from(0).toHexString());
        console.log("addr", ethers.utils.getAddress("0x8111dfd23b99233a7ae871b7c09ccf0722847d89"))

        const l2PublicResolverVerifier: L2PublicResolverVerifier = await new L2PublicResolverVerifier__factory()
            .connect(owner)
            .deploy(owner.address, "", "", 420, bedrockProofVerifier.address, "0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0");
        const cd = "0xf4d4d2f80000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000170000000000000000000000000000000000000000000000000000000000000016a00000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000b000000000000000000000000000000000000000000000000000000000000000aa000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000009fe46736679d2d9a65f0992f2272de9f3c7fa6e000000000000000000000000000000000000000000000000000000000000000205b0bab1651ce4195a91d85e96648433475fef18ed37b8f47ad5a7e307180f3f80000000000000000000000000000000000000000000000000000000000000160000000000000000000000000000000000000000000000000000000000000000e00000000000000000000000000000000000000000000000000000000000000002d4e582b275bb28f41628287e71bc6ccb531333ce0d9559e69237df12c19ab428ed4baae3a927be3dea54996b4d5899f8c01e7594bf50b17dc1e741388ce3d1227d3530ccc20a47ca05de73e60ab65fd75ba678657474507c06d2aa61eb5fb1a00000000000000000000000000000000000000000000000000000000000007c00000000000000000000000000000000000000000000000000000000000000629f90626b90214f90211a0b380feed4bc0db8c447355cc13f1b5591803f241fbc2c38a08fc8168dc205f17a040cdfa90d7a98e743348ff163a788e2af142da2e515741a12c1f5672690843caa0f81e937e2d5ff7c1f8a392103e8125cd54808452f10bafdc7dbb3f0fe6c4eb5ba05292df2f2fdebbcd84a7999929af2acf15c6758e2aa7707736ecbd727464c0aaa0e7a0c643ef1471f73ee863b83ecdc12a1e7b4b1446805e47687380d526f2791da06e6d4b6c7a781500ca3288d65e40c36746a332e4b42ac409447cf3c68638619ea004873662e32a2c7b56263c834fa312775fca35d684a9441bebe0d065f5103671a074714750e1d267cd6090763f6ed4b173cc48d26a4a79a1dd53af4e3a9b3430bea0eed6c225316b1f4f30f60caf1a78c1e56179210bcfb5cd0b511580381e2d7e42a08af36097d036d1a5f08f46a4697e414b1c52f4f20f469afcb56cf7524e3dc155a01f5b7ae3f9169e9781ca2bbcbde9fa9306d4c4187fc49ba6b6e6b23d5e949828a02910c1dc3fe0c125f7a5ec0ad1d108a0c65f65ee94a63d10298da93439f8e3c1a0ad5ccb80e68c6f36226137f8846944f3edda206e847ce3d89312186dacc697fda0f503a03e5f8d8c570949d4bbdfa6a2c0b05e43265d814e9a7f60c247f86bfc57a0f22b82034c76d256abdbfb8395c727df626bf0d24dbb14752362cb86cf3d9a03a036967e3d9f4818ff6b2b6e3caa28af216bf24a15d85e701546ffa61f4053e1a280b90214f90211a0d822fcda4fe151c4f2064581d51e5ed328746437ba625f33e65ec2c8c7eba21aa0f662289e4896086e09dcb07f18a2094f1f363fdda86c4274225c8fcc07f7829ea0a4aab2b2e4a8a0180ac476ab9a82accc8346b05956b9a8ddb1d54f81ffd21b58a0e29783ba9b46fa0953dc806e6178905500e6391efcbc690150bddea9fca5a16da0c7b8e7045b33c1f238f958b23da7f56230d6660f53c98ad1cda33b65f89b2c30a02911b276f4ddca7160420f9762c4e88c54daac0510c853291ad84a19f1e4d738a02dcbcdafd3ca410c40b27eb12bbada85f669525ac421ec238eedffc1af6682f0a0f372795b70986564542ae8e7fa34dab8254e3aa5066371de1d996625acbb3f5aa083a031b59ee4cc4810c88c494a7536192d2c1465d3d4165a73fb80708e84035ea0e0d7e87d380fc47f7343c164389a5575249c0e2caf6832530a9aee80317ab6bda0bba16b3de31ffe34bcaf2894d954fd819785edd1e9193a50243a346941e5c6d5a086266fdae49d7402035874ba3415faf0b122e3505cac9918bcdda5aeee8f6776a071fdba718a53a53fc6fa3c257004872055e63500cec3fbd2ea10d2f754988746a04ded84487206ab7ecdc06c4becf4f1fab099a34c79176c2236a8861189a4e516a05d77c140426669a57e2bb45a5cd1ff5ca3a3b31f2e62a787dd2543f48bf0b995a068f06f0af8adaacd27c0a5d19addd50994ce29e6420ea4f0cd8e956e06b5612180b90114f9011180a0b018aba825122f4555c6174cab9fc3276a6b70428735d33b6fbe7c597a59914780a0a2f7ffc069829cff1d8e4a969167598b3e46d5149e80934c26475d12d2272dfda0c35f91833c6efa993e1f26cc0571256ab0422f37d422f0ea8cfb0b0530cc54698080a0988265144dc92519e0a4e9ee4d629022b47a9996aac1aca5db472353b43a57f1a0ce7516edb303a37049b66673cffb8720e360d237b4fa8cb46b5716d7a1dda4c18080a02aa926323a8dbf542712191637088ccc6b6964eef3435b8142c6c342ef13571da054ee670c1c6864a7bfa9e8af8393db0b18aa34ccc057050ba4eb46e910ade7548080a090d39acd37397ec1eaebd2bc3c9a135deddaef827c3f946ddacdbda9a230fefc80b873f8718080a08f17f0effe21da2c9ab16a179bb0971bd0de6510b8228699794cf808ceabc7b6808080a0a11d07be3edb03dbf2513953119dd5f2141bec035eb594d6ad6c6f56f5e81107808080808080a0564629cac7ad1b80555d8ca148c3927b085caeac7641db74b2735202706f9375808080b86af8689f200e45164e07e0e4df7165de40d5863fb7b8ece896a164bf57a134287c68f5b846f8440180a05b0bab1651ce4195a91d85e96648433475fef18ed37b8f47ad5a7e307180f3f8a0a95c0f46c44321e5ea1738b223e05b6469ed5faee500fa9057ecce6f43bfabb70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000201c9438ff6aca2f6dd772733c3ea4f5f772e564a776ac09ab641a80d6ffb243d6000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000001cff901ccb90174f9017180a0cdd5ca9dcbc532146838bf3eab2717959c7dbf0e82ca2984169a01f9bb99dac780a0194f85e38715bca1f031cc5b7878826c81589c7cf04cc8f2366bb5907873f004a041b9367a6c563101ccb35e90c65eb5c34e780facac4d50a70da820a57d29fd6ca0d41a0a711a3d8e65ce6e044d76b8e345c7c096af8e4835a4f1b930e320f6c5e7a0911c15124fc3a4d2076ba552707ea14bd6206b7d717ac3d4112f1ecde15674fba084c1f3a6482ee7fa37c0d0585b8c829e40727b4085f05432a20e7086bc470bd1a057b4a569028497cce53bcfeb8d91945ca40fd429e61de0775bfae8977c6d2144a084284eb21d95e0154a9871b2833f6b8edd52909a4468b5bb3c5c80acdf0c7bb1a082d06343ee2ee63585c234b715dddec2b6867dba006abf1054816c6b4d31974380a09f0d39eceba32ae5344c5174f0940c45747b4122583b3f6801842a1b187c48848080a01fc9f125e32decb56cddfc91b72513b0965c9fb71d296595f9e1f3b51d19bfb180b853f8518080a0b6978c0beff22ab7b1aca6260b002a8c300f4b38f7f11c9e82c4e90b6bb0306b8080808080a0c75558bdd876f6b41347de319b0cbb57718410f3c7b8317bb3cfcb898c5a41c9808080808080808000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b40000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000003626172000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000009fe46736679d2d9a65f0992f2272de9f3c7fa6e000000000000000000000000000000000000000000000000000000000000000035b0bab1651ce4195a91d85e96648433475fef18ed37b8f47ad5a7e307180f3f80000000000000000000000000000000000000000000000000000000000000160000000000000000000000000000000000000000000000000000000000000000e00000000000000000000000000000000000000000000000000000000000000002d4e582b275bb28f41628287e71bc6ccb531333ce0d9559e69237df12c19ab428ed4baae3a927be3dea54996b4d5899f8c01e7594bf50b17dc1e741388ce3d1227d3530ccc20a47ca05de73e60ab65fd75ba678657474507c06d2aa61eb5fb1a00000000000000000000000000000000000000000000000000000000000007c00000000000000000000000000000000000000000000000000000000000000629f90626b90214f90211a0b380feed4bc0db8c447355cc13f1b5591803f241fbc2c38a08fc8168dc205f17a040cdfa90d7a98e743348ff163a788e2af142da2e515741a12c1f5672690843caa0f81e937e2d5ff7c1f8a392103e8125cd54808452f10bafdc7dbb3f0fe6c4eb5ba05292df2f2fdebbcd84a7999929af2acf15c6758e2aa7707736ecbd727464c0aaa0e7a0c643ef1471f73ee863b83ecdc12a1e7b4b1446805e47687380d526f2791da06e6d4b6c7a781500ca3288d65e40c36746a332e4b42ac409447cf3c68638619ea004873662e32a2c7b56263c834fa312775fca35d684a9441bebe0d065f5103671a074714750e1d267cd6090763f6ed4b173cc48d26a4a79a1dd53af4e3a9b3430bea0eed6c225316b1f4f30f60caf1a78c1e56179210bcfb5cd0b511580381e2d7e42a08af36097d036d1a5f08f46a4697e414b1c52f4f20f469afcb56cf7524e3dc155a01f5b7ae3f9169e9781ca2bbcbde9fa9306d4c4187fc49ba6b6e6b23d5e949828a02910c1dc3fe0c125f7a5ec0ad1d108a0c65f65ee94a63d10298da93439f8e3c1a0ad5ccb80e68c6f36226137f8846944f3edda206e847ce3d89312186dacc697fda0f503a03e5f8d8c570949d4bbdfa6a2c0b05e43265d814e9a7f60c247f86bfc57a0f22b82034c76d256abdbfb8395c727df626bf0d24dbb14752362cb86cf3d9a03a036967e3d9f4818ff6b2b6e3caa28af216bf24a15d85e701546ffa61f4053e1a280b90214f90211a0d822fcda4fe151c4f2064581d51e5ed328746437ba625f33e65ec2c8c7eba21aa0f662289e4896086e09dcb07f18a2094f1f363fdda86c4274225c8fcc07f7829ea0a4aab2b2e4a8a0180ac476ab9a82accc8346b05956b9a8ddb1d54f81ffd21b58a0e29783ba9b46fa0953dc806e6178905500e6391efcbc690150bddea9fca5a16da0c7b8e7045b33c1f238f958b23da7f56230d6660f53c98ad1cda33b65f89b2c30a02911b276f4ddca7160420f9762c4e88c54daac0510c853291ad84a19f1e4d738a02dcbcdafd3ca410c40b27eb12bbada85f669525ac421ec238eedffc1af6682f0a0f372795b70986564542ae8e7fa34dab8254e3aa5066371de1d996625acbb3f5aa083a031b59ee4cc4810c88c494a7536192d2c1465d3d4165a73fb80708e84035ea0e0d7e87d380fc47f7343c164389a5575249c0e2caf6832530a9aee80317ab6bda0bba16b3de31ffe34bcaf2894d954fd819785edd1e9193a50243a346941e5c6d5a086266fdae49d7402035874ba3415faf0b122e3505cac9918bcdda5aeee8f6776a071fdba718a53a53fc6fa3c257004872055e63500cec3fbd2ea10d2f754988746a04ded84487206ab7ecdc06c4becf4f1fab099a34c79176c2236a8861189a4e516a05d77c140426669a57e2bb45a5cd1ff5ca3a3b31f2e62a787dd2543f48bf0b995a068f06f0af8adaacd27c0a5d19addd50994ce29e6420ea4f0cd8e956e06b5612180b90114f9011180a0b018aba825122f4555c6174cab9fc3276a6b70428735d33b6fbe7c597a59914780a0a2f7ffc069829cff1d8e4a969167598b3e46d5149e80934c26475d12d2272dfda0c35f91833c6efa993e1f26cc0571256ab0422f37d422f0ea8cfb0b0530cc54698080a0988265144dc92519e0a4e9ee4d629022b47a9996aac1aca5db472353b43a57f1a0ce7516edb303a37049b66673cffb8720e360d237b4fa8cb46b5716d7a1dda4c18080a02aa926323a8dbf542712191637088ccc6b6964eef3435b8142c6c342ef13571da054ee670c1c6864a7bfa9e8af8393db0b18aa34ccc057050ba4eb46e910ade7548080a090d39acd37397ec1eaebd2bc3c9a135deddaef827c3f946ddacdbda9a230fefc80b873f8718080a08f17f0effe21da2c9ab16a179bb0971bd0de6510b8228699794cf808ceabc7b6808080a0a11d07be3edb03dbf2513953119dd5f2141bec035eb594d6ad6c6f56f5e81107808080808080a0564629cac7ad1b80555d8ca148c3927b085caeac7641db74b2735202706f9375808080b86af8689f200e45164e07e0e4df7165de40d5863fb7b8ece896a164bf57a134287c68f5b846f8440180a05b0bab1651ce4195a91d85e96648433475fef18ed37b8f47ad5a7e307180f3f8a0a95c0f46c44321e5ea1738b223e05b6469ed5faee500fa9057ecce6f43bfabb7000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000020bb067781a09f1c3e4bacec4a5146d6405c3f727f6ccc8a7703d7a998ecf2d41800000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000216f90213b90174f9017180a0cdd5ca9dcbc532146838bf3eab2717959c7dbf0e82ca2984169a01f9bb99dac780a0194f85e38715bca1f031cc5b7878826c81589c7cf04cc8f2366bb5907873f004a041b9367a6c563101ccb35e90c65eb5c34e780facac4d50a70da820a57d29fd6ca0d41a0a711a3d8e65ce6e044d76b8e345c7c096af8e4835a4f1b930e320f6c5e7a0911c15124fc3a4d2076ba552707ea14bd6206b7d717ac3d4112f1ecde15674fba084c1f3a6482ee7fa37c0d0585b8c829e40727b4085f05432a20e7086bc470bd1a057b4a569028497cce53bcfeb8d91945ca40fd429e61de0775bfae8977c6d2144a084284eb21d95e0154a9871b2833f6b8edd52909a4468b5bb3c5c80acdf0c7bb1a082d06343ee2ee63585c234b715dddec2b6867dba006abf1054816c6b4d31974380a09f0d39eceba32ae5344c5174f0940c45747b4122583b3f6801842a1b187c48848080a01fc9f125e32decb56cddfc91b72513b0965c9fb71d296595f9e1f3b51d19bfb180b853f8518080a0b6978c0beff22ab7b1aca6260b002a8c300f4b38f7f11c9e82c4e90b6bb0306b8080808080a0c75558bdd876f6b41347de319b0cbb57718410f3c7b8317bb3cfcb898c5a41c98080808080808080b845f843a020033695275cd867e3673c0f6eac110e116b33c5f8b4d83f266a3b9beb8390a8a1a062617200000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000000000000000000000001a4f8c30f63000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000160000000000000000000000000000000000000000000000000000000000000000b05616c6963650365746800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008459d1d43c787192fc5378cc32aa956ddfdedbf26b24e8d78e40109add0eea2c1a012c3dec00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000003666f6f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000148111dfd23b99233a7ae871b7c09ccf0722847d8900000000000000000000000000000000000000000000000000000000000000000000000000000000"

        const [response, extraData] = new ethers.utils.Interface([
            "function resolveWithProof(bytes calldata response, bytes calldata extraData) public view returns (address)",
        ]).decodeFunctionData("resolveWithProof", cd);



        const resBytes = await l2PublicResolverVerifier.resolveText(response, extraData);
        expect(ethers.utils.toUtf8String(resBytes)).to.equal("bar");
    });
    it("resolveText multislot", async () => {
        const [owner] = await ethers.getSigners();
        const bedrockProofVerifier: FakeContract<BedrockProofVerifier> = (await smock.fake<BedrockProofVerifier>(
            "ccip-resolver/contracts/verifier/optimism-bedrock/IBedrockProofVerifier.sol:IBedrockProofVerifier"
        )) as FakeContract<BedrockProofVerifier>;

        bedrockProofVerifier.getProofValue.returnsAtCall(0, "0x");
        bedrockProofVerifier.getProofValue.returnsAtCall(1, "0x7b227075626c69635369676e696e674b6579223a2230656b6749334342773269584e5875645264425148694f614d704739627671394a736532366442757475673d222c227075626c6963456e6372797074696f6e4b6579223a225672642f6554416b2f6a5a622f77354c34303879446a4f4f3575704e4644476474306c7957526a6642456b3d222c2264656c69766572795365727669636573223a5b22666f6f2e646d33225d7d");
        console.log("enc hash ", ethers.utils.defaultAbiCoder.encode(["uint256"], [0]));
        console.log("bn zero ", BigNumber.from(0).toHexString());
        console.log("addr", ethers.utils.getAddress("0x8111dfd23b99233a7ae871b7c09ccf0722847d89"))

        const l2PublicResolverVerifier: L2PublicResolverVerifier = await new L2PublicResolverVerifier__factory()
            .connect(owner)
            .deploy(owner.address, "", "", 420, bedrockProofVerifier.address, "0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0");
        const cd =
            "0xf4d4d2f8000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000029e000000000000000000000000000000000000000000000000000000000000029800000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000b800000000000000000000000000000000000000000000000000000000000000b2000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000009fe46736679d2d9a65f0992f2272de9f3c7fa6e00000000000000000000000000000000000000000000000000000000000000020759793e3c90b7b4bcc75a9f2b69d8d4fb71d68f39050afc2c991b588246d5b6a0000000000000000000000000000000000000000000000000000000000000160000000000000000000000000000000000000000000000000000000000000021c000000000000000000000000000000000000000000000000000000000000000070de5a0faeafbfa45a2c1cae40adb59123647fe88aaa2068f6c6d3cf30f635c18ed4baae3a927be3dea54996b4d5899f8c01e7594bf50b17dc1e741388ce3d12be77518a24ea0fcca52bfe6248874a5957ab6b6a6ff47f31675ed5055cdd4a3500000000000000000000000000000000000000000000000000000000000007c00000000000000000000000000000000000000000000000000000000000000629f90626b90214f90211a0dfc13a288b208261ae16b512b1378b511bc095daa187f025cc781e93960fb3a1a06102b115ec4111e77fbd464e152c055fffc26ff45f1067912400e633ecf332d2a0f81e937e2d5ff7c1f8a392103e8125cd54808452f10bafdc7dbb3f0fe6c4eb5ba02b1d17612d0815e932a586dc88b3909220398a27d92e78bbeff080ecaa8b9967a0dce45900f804c7fa7c06c519da54c56b05ef8313720fb4612453a2eecca4c461a06e6d4b6c7a781500ca3288d65e40c36746a332e4b42ac409447cf3c68638619ea004873662e32a2c7b56263c834fa312775fca35d684a9441bebe0d065f5103671a074714750e1d267cd6090763f6ed4b173cc48d26a4a79a1dd53af4e3a9b3430bea0c1743faa956d92e27a48b0e7559622dd245c62514408387259d3db3debc008a9a0e21f3b43f782d6c3bafae18e9d37cd38a6a8a266d11125f7d8cf605558be7b12a01f5b7ae3f9169e9781ca2bbcbde9fa9306d4c4187fc49ba6b6e6b23d5e949828a02910c1dc3fe0c125f7a5ec0ad1d108a0c65f65ee94a63d10298da93439f8e3c1a0ad5ccb80e68c6f36226137f8846944f3edda206e847ce3d89312186dacc697fda0f503a03e5f8d8c570949d4bbdfa6a2c0b05e43265d814e9a7f60c247f86bfc57a03d7810d74c0d3bfca6a9b57d49672fb0f4fb279115c01188a20f1ee9cd8cfa36a02024ed006edaa1672eae4e319db1291d99d7efa2d658ce8a5acb0d736c66585580b90214f90211a0d822fcda4fe151c4f2064581d51e5ed328746437ba625f33e65ec2c8c7eba21aa0f662289e4896086e09dcb07f18a2094f1f363fdda86c4274225c8fcc07f7829ea0a4aab2b2e4a8a0180ac476ab9a82accc8346b05956b9a8ddb1d54f81ffd21b58a0e29783ba9b46fa0953dc806e6178905500e6391efcbc690150bddea9fca5a16da0c7b8e7045b33c1f238f958b23da7f56230d6660f53c98ad1cda33b65f89b2c30a02911b276f4ddca7160420f9762c4e88c54daac0510c853291ad84a19f1e4d738a02dcbcdafd3ca410c40b27eb12bbada85f669525ac421ec238eedffc1af6682f0a0f372795b70986564542ae8e7fa34dab8254e3aa5066371de1d996625acbb3f5aa001dbc8a7899dea9eb2aa09de9476da82cff8c68cf5c08858938b778e306fd368a0e0d7e87d380fc47f7343c164389a5575249c0e2caf6832530a9aee80317ab6bda0f44d9581d5c43aa3f3fe46ff5d9ccdaa5062579fe9d037462f8e50611d827700a086266fdae49d7402035874ba3415faf0b122e3505cac9918bcdda5aeee8f6776a071fdba718a53a53fc6fa3c257004872055e63500cec3fbd2ea10d2f754988746a04ded84487206ab7ecdc06c4becf4f1fab099a34c79176c2236a8861189a4e516a05d77c140426669a57e2bb45a5cd1ff5ca3a3b31f2e62a787dd2543f48bf0b995a068f06f0af8adaacd27c0a5d19addd50994ce29e6420ea4f0cd8e956e06b5612180b90114f9011180a0b018aba825122f4555c6174cab9fc3276a6b70428735d33b6fbe7c597a59914780a0a2f7ffc069829cff1d8e4a969167598b3e46d5149e80934c26475d12d2272dfda0ce91364d98ca7a2db318562b28692e2ea7059d26b9707fbcf1cc587cfac2d4de8080a0988265144dc92519e0a4e9ee4d629022b47a9996aac1aca5db472353b43a57f1a0ce7516edb303a37049b66673cffb8720e360d237b4fa8cb46b5716d7a1dda4c18080a02aa926323a8dbf542712191637088ccc6b6964eef3435b8142c6c342ef13571da054ee670c1c6864a7bfa9e8af8393db0b18aa34ccc057050ba4eb46e910ade7548080a090d39acd37397ec1eaebd2bc3c9a135deddaef827c3f946ddacdbda9a230fefc80b873f8718080a08f17f0effe21da2c9ab16a179bb0971bd0de6510b8228699794cf808ceabc7b6808080a03d27c1073245c5ccf1b0939c4fd2361dfd26722c2a5d3a9910d25164511a3076808080808080a0564629cac7ad1b80555d8ca148c3927b085caeac7641db74b2735202706f9375808080b86af8689f200e45164e07e0e4df7165de40d5863fb7b8ece896a164bf57a134287c68f5b846f8440180a0759793e3c90b7b4bcc75a9f2b69d8d4fb71d68f39050afc2c991b588246d5b6aa045186230579d5a65ae5c328d2a37943a90eb306ff8c440299c094a72416374070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000201c9438ff6aca2f6dd772733c3ea4f5f772e564a776ac09ab641a80d6ffb243d600000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000241f9023eb901f4f901f1a09e9e0b33c41264a19b98e952afb52f54f65ae3426e817d9f5606938f500cafd5a0cdd5ca9dcbc532146838bf3eab2717959c7dbf0e82ca2984169a01f9bb99dac7a0b41fabf41b9b8811dfb6eeccb88925a7e7fdbbbccb54f81d47af5430564c2b3da0faf568a438f830ee0fe615971f535bbd04feb43625d185f1ab5c37db81a89b82a092082de4e059207736a7c9a08127dc3d1ba7d6b3ec162a176605d0de28263a17a047bc6c5cf0df6be11b826039fb6584bbada8ec6f395ce7317ab6a1c476872f31a0942378ea08308c8097722d65fa8299cdaf01a500b6c5c35e64636cd29406a1daa0a898979dc0c43e5254f4318b7f2106dd892df1df2a40e2e31d07085b1c159ea6a0d9d8cb5448fbf95e604c2d23c7e53fa357a863c8fa6abd8b2f8b61a577e88916a0a5147911a8b0aa24649bc7a88cee35d94945e60e76a291da9c3f379af2fc2025a0af5cd58d38d8b8224e6f3cb1bb52a35451a5e98abe8d448e9fa40824940c21f680a07c9bd2fe59a6e1343258616930662862d71f36d8b6ba04a9bbb6bbf09346bda0a05f22f4cf593885a5dd0e49fd180299cbc5c68df34e67145b489edc4f78765e88a0326f43cffa2a9bd8dcd44abdeb8634538fdc74cd3e87a11e1fa00d18560d2563a0047ee4e8a68ae807659bf2f371a1b30e83b1aeaf38f08f9c0cfa7e67c823db0080b845f843a032033695275cd867e3673c0f6eac110e116b33c5f8b4d83f266a3b9beb8390a8a1a06261720000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001da0000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000001600000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000a77b227075626c69635369676e696e674b6579223a2230656b6749334342773269584e5875645264425148694f614d704739627671394a736532366442757475673d222c227075626c6963456e6372797074696f6e4b6579223a225672642f6554416b2f6a5a622f77354c34303879446a4f4f3575704e4644476474306c7957526a6642456b3d222c2264656c69766572795365727669636573223a5b22666f6f2e646d33225d7d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000009fe46736679d2d9a65f0992f2272de9f3c7fa6e000000000000000000000000000000000000000000000000000000000000000a7759793e3c90b7b4bcc75a9f2b69d8d4fb71d68f39050afc2c991b588246d5b6a0000000000000000000000000000000000000000000000000000000000000160000000000000000000000000000000000000000000000000000000000000021c000000000000000000000000000000000000000000000000000000000000000070de5a0faeafbfa45a2c1cae40adb59123647fe88aaa2068f6c6d3cf30f635c18ed4baae3a927be3dea54996b4d5899f8c01e7594bf50b17dc1e741388ce3d12be77518a24ea0fcca52bfe6248874a5957ab6b6a6ff47f31675ed5055cdd4a3500000000000000000000000000000000000000000000000000000000000007c00000000000000000000000000000000000000000000000000000000000000629f90626b90214f90211a0dfc13a288b208261ae16b512b1378b511bc095daa187f025cc781e93960fb3a1a06102b115ec4111e77fbd464e152c055fffc26ff45f1067912400e633ecf332d2a0f81e937e2d5ff7c1f8a392103e8125cd54808452f10bafdc7dbb3f0fe6c4eb5ba02b1d17612d0815e932a586dc88b3909220398a27d92e78bbeff080ecaa8b9967a0dce45900f804c7fa7c06c519da54c56b05ef8313720fb4612453a2eecca4c461a06e6d4b6c7a781500ca3288d65e40c36746a332e4b42ac409447cf3c68638619ea004873662e32a2c7b56263c834fa312775fca35d684a9441bebe0d065f5103671a074714750e1d267cd6090763f6ed4b173cc48d26a4a79a1dd53af4e3a9b3430bea0c1743faa956d92e27a48b0e7559622dd245c62514408387259d3db3debc008a9a0e21f3b43f782d6c3bafae18e9d37cd38a6a8a266d11125f7d8cf605558be7b12a01f5b7ae3f9169e9781ca2bbcbde9fa9306d4c4187fc49ba6b6e6b23d5e949828a02910c1dc3fe0c125f7a5ec0ad1d108a0c65f65ee94a63d10298da93439f8e3c1a0ad5ccb80e68c6f36226137f8846944f3edda206e847ce3d89312186dacc697fda0f503a03e5f8d8c570949d4bbdfa6a2c0b05e43265d814e9a7f60c247f86bfc57a03d7810d74c0d3bfca6a9b57d49672fb0f4fb279115c01188a20f1ee9cd8cfa36a02024ed006edaa1672eae4e319db1291d99d7efa2d658ce8a5acb0d736c66585580b90214f90211a0d822fcda4fe151c4f2064581d51e5ed328746437ba625f33e65ec2c8c7eba21aa0f662289e4896086e09dcb07f18a2094f1f363fdda86c4274225c8fcc07f7829ea0a4aab2b2e4a8a0180ac476ab9a82accc8346b05956b9a8ddb1d54f81ffd21b58a0e29783ba9b46fa0953dc806e6178905500e6391efcbc690150bddea9fca5a16da0c7b8e7045b33c1f238f958b23da7f56230d6660f53c98ad1cda33b65f89b2c30a02911b276f4ddca7160420f9762c4e88c54daac0510c853291ad84a19f1e4d738a02dcbcdafd3ca410c40b27eb12bbada85f669525ac421ec238eedffc1af6682f0a0f372795b70986564542ae8e7fa34dab8254e3aa5066371de1d996625acbb3f5aa001dbc8a7899dea9eb2aa09de9476da82cff8c68cf5c08858938b778e306fd368a0e0d7e87d380fc47f7343c164389a5575249c0e2caf6832530a9aee80317ab6bda0f44d9581d5c43aa3f3fe46ff5d9ccdaa5062579fe9d037462f8e50611d827700a086266fdae49d7402035874ba3415faf0b122e3505cac9918bcdda5aeee8f6776a071fdba718a53a53fc6fa3c257004872055e63500cec3fbd2ea10d2f754988746a04ded84487206ab7ecdc06c4becf4f1fab099a34c79176c2236a8861189a4e516a05d77c140426669a57e2bb45a5cd1ff5ca3a3b31f2e62a787dd2543f48bf0b995a068f06f0af8adaacd27c0a5d19addd50994ce29e6420ea4f0cd8e956e06b5612180b90114f9011180a0b018aba825122f4555c6174cab9fc3276a6b70428735d33b6fbe7c597a59914780a0a2f7ffc069829cff1d8e4a969167598b3e46d5149e80934c26475d12d2272dfda0ce91364d98ca7a2db318562b28692e2ea7059d26b9707fbcf1cc587cfac2d4de8080a0988265144dc92519e0a4e9ee4d629022b47a9996aac1aca5db472353b43a57f1a0ce7516edb303a37049b66673cffb8720e360d237b4fa8cb46b5716d7a1dda4c18080a02aa926323a8dbf542712191637088ccc6b6964eef3435b8142c6c342ef13571da054ee670c1c6864a7bfa9e8af8393db0b18aa34ccc057050ba4eb46e910ade7548080a090d39acd37397ec1eaebd2bc3c9a135deddaef827c3f946ddacdbda9a230fefc80b873f8718080a08f17f0effe21da2c9ab16a179bb0971bd0de6510b8228699794cf808ceabc7b6808080a03d27c1073245c5ccf1b0939c4fd2361dfd26722c2a5d3a9910d25164511a3076808080808080a0564629cac7ad1b80555d8ca148c3927b085caeac7641db74b2735202706f9375808080b86af8689f200e45164e07e0e4df7165de40d5863fb7b8ece896a164bf57a134287c68f5b846f8440180a0759793e3c90b7b4bcc75a9f2b69d8d4fb71d68f39050afc2c991b588246d5b6aa045186230579d5a65ae5c328d2a37943a90eb306ff8c440299c094a72416374070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000003c000000000000000000000000000000000000000000000000000000000000007400000000000000000000000000000000000000000000000000000000000000aa00000000000000000000000000000000000000000000000000000000000000da00000000000000000000000000000000000000000000000000000000000001100a3babb206e63879bbaaedee9e19ba44a61b4ab467df2df8b31f1cd4f0b20ab2500000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000296f90293b901f4f901f1a09e9e0b33c41264a19b98e952afb52f54f65ae3426e817d9f5606938f500cafd5a0cdd5ca9dcbc532146838bf3eab2717959c7dbf0e82ca2984169a01f9bb99dac7a0b41fabf41b9b8811dfb6eeccb88925a7e7fdbbbccb54f81d47af5430564c2b3da0faf568a438f830ee0fe615971f535bbd04feb43625d185f1ab5c37db81a89b82a092082de4e059207736a7c9a08127dc3d1ba7d6b3ec162a176605d0de28263a17a047bc6c5cf0df6be11b826039fb6584bbada8ec6f395ce7317ab6a1c476872f31a0942378ea08308c8097722d65fa8299cdaf01a500b6c5c35e64636cd29406a1daa0a898979dc0c43e5254f4318b7f2106dd892df1df2a40e2e31d07085b1c159ea6a0d9d8cb5448fbf95e604c2d23c7e53fa357a863c8fa6abd8b2f8b61a577e88916a0a5147911a8b0aa24649bc7a88cee35d94945e60e76a291da9c3f379af2fc2025a0af5cd58d38d8b8224e6f3cb1bb52a35451a5e98abe8d448e9fa40824940c21f680a07c9bd2fe59a6e1343258616930662862d71f36d8b6ba04a9bbb6bbf09346bda0a05f22f4cf593885a5dd0e49fd180299cbc5c68df34e67145b489edc4f78765e88a0326f43cffa2a9bd8dcd44abdeb8634538fdc74cd3e87a11e1fa00d18560d2563a0047ee4e8a68ae807659bf2f371a1b30e83b1aeaf38f08f9c0cfa7e67c823db0080b853f851a0fe941f84b9a1db43de43c5d71ff2678a612d23ff184158b1843406dd4027e54a80808080808080808080a0e5f5b10fa0bb46e9db02a11af23d65961bdc73611d35b10bff398d025dba38d38080808080b845f843a020de283f6b1ece66de0219dd70f84b50075e7e6611f328e73250c4b4daecfb08a1a07b227075626c69635369676e696e674b6579223a2230656b674933434277326900000000000000000000a3babb206e63879bbaaedee9e19ba44a61b4ab467df2df8b31f1cd4f0b20ab2600000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000316f90313b901f4f901f1a09e9e0b33c41264a19b98e952afb52f54f65ae3426e817d9f5606938f500cafd5a0cdd5ca9dcbc532146838bf3eab2717959c7dbf0e82ca2984169a01f9bb99dac7a0b41fabf41b9b8811dfb6eeccb88925a7e7fdbbbccb54f81d47af5430564c2b3da0faf568a438f830ee0fe615971f535bbd04feb43625d185f1ab5c37db81a89b82a092082de4e059207736a7c9a08127dc3d1ba7d6b3ec162a176605d0de28263a17a047bc6c5cf0df6be11b826039fb6584bbada8ec6f395ce7317ab6a1c476872f31a0942378ea08308c8097722d65fa8299cdaf01a500b6c5c35e64636cd29406a1daa0a898979dc0c43e5254f4318b7f2106dd892df1df2a40e2e31d07085b1c159ea6a0d9d8cb5448fbf95e604c2d23c7e53fa357a863c8fa6abd8b2f8b61a577e88916a0a5147911a8b0aa24649bc7a88cee35d94945e60e76a291da9c3f379af2fc2025a0af5cd58d38d8b8224e6f3cb1bb52a35451a5e98abe8d448e9fa40824940c21f680a07c9bd2fe59a6e1343258616930662862d71f36d8b6ba04a9bbb6bbf09346bda0a05f22f4cf593885a5dd0e49fd180299cbc5c68df34e67145b489edc4f78765e88a0326f43cffa2a9bd8dcd44abdeb8634538fdc74cd3e87a11e1fa00d18560d2563a0047ee4e8a68ae807659bf2f371a1b30e83b1aeaf38f08f9c0cfa7e67c823db0080b8d3f8d1808080a03363d386b559745f7d76bbccf104661486701784d703ccfe1db9819345b5648ea05d6f31ec73983257300e56ef889de54f3af96fed83cab730b1f513d95a25c63c8080a0ef5709d6a4d9745a4e1e86d912a2b60b5d56071c82b48222679e62f5ee60496380a05d71ab523489299519079a9cb45d82cf2e7dab149268e2113b695b2c0d2fdff6808080a0151722388aa3372796dc818e296c8f94422d3e4e89f7f06118937a8862df84fca05754d4d812899c1c07db8c9983d757c833694458e95f272abbb34315dee3239d8080b845f843a02040aa8f1e54ec9420a86df4e2a5e4056dcc975be93c2d6748338280b4bd5c5ea1a0584e5875645264425148694f614d704739627671394a7365323664427574756700000000000000000000a3babb206e63879bbaaedee9e19ba44a61b4ab467df2df8b31f1cd4f0b20ab27000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000002f6f902f3b901f4f901f1a09e9e0b33c41264a19b98e952afb52f54f65ae3426e817d9f5606938f500cafd5a0cdd5ca9dcbc532146838bf3eab2717959c7dbf0e82ca2984169a01f9bb99dac7a0b41fabf41b9b8811dfb6eeccb88925a7e7fdbbbccb54f81d47af5430564c2b3da0faf568a438f830ee0fe615971f535bbd04feb43625d185f1ab5c37db81a89b82a092082de4e059207736a7c9a08127dc3d1ba7d6b3ec162a176605d0de28263a17a047bc6c5cf0df6be11b826039fb6584bbada8ec6f395ce7317ab6a1c476872f31a0942378ea08308c8097722d65fa8299cdaf01a500b6c5c35e64636cd29406a1daa0a898979dc0c43e5254f4318b7f2106dd892df1df2a40e2e31d07085b1c159ea6a0d9d8cb5448fbf95e604c2d23c7e53fa357a863c8fa6abd8b2f8b61a577e88916a0a5147911a8b0aa24649bc7a88cee35d94945e60e76a291da9c3f379af2fc2025a0af5cd58d38d8b8224e6f3cb1bb52a35451a5e98abe8d448e9fa40824940c21f680a07c9bd2fe59a6e1343258616930662862d71f36d8b6ba04a9bbb6bbf09346bda0a05f22f4cf593885a5dd0e49fd180299cbc5c68df34e67145b489edc4f78765e88a0326f43cffa2a9bd8dcd44abdeb8634538fdc74cd3e87a11e1fa00d18560d2563a0047ee4e8a68ae807659bf2f371a1b30e83b1aeaf38f08f9c0cfa7e67c823db0080b8b3f8b1808080a0df216671d922c5f3d6bf7b50c174284d563b1ec68109b25948b1b20b8dae4e218080a02c82b7387a52fa83afc0311bc01131164d20f701ea5ccbaf08dd2a69ee641d938080a022078a5760c2f83462ccae388997dc066a4195d9bc7e0b9b6cb03a4acc34300a80a0792f0a1ce764c86175671beb829ed573ad2b3334bbe343b9bc9e36359f14049b80a0e62efb5af5832e217f5bc0c9f0bacfb060e5e1959dc584bfe545e37b07a6b530808080b845f843a020dd666cbce15f7a0e686f2858a361cad96801d944e8a02e4c9e85be8fd21630a1a03d222c227075626c6963456e6372797074696f6e4b6579223a225672642f655400000000000000000000a3babb206e63879bbaaedee9e19ba44a61b4ab467df2df8b31f1cd4f0b20ab2800000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000296f90293b901f4f901f1a09e9e0b33c41264a19b98e952afb52f54f65ae3426e817d9f5606938f500cafd5a0cdd5ca9dcbc532146838bf3eab2717959c7dbf0e82ca2984169a01f9bb99dac7a0b41fabf41b9b8811dfb6eeccb88925a7e7fdbbbccb54f81d47af5430564c2b3da0faf568a438f830ee0fe615971f535bbd04feb43625d185f1ab5c37db81a89b82a092082de4e059207736a7c9a08127dc3d1ba7d6b3ec162a176605d0de28263a17a047bc6c5cf0df6be11b826039fb6584bbada8ec6f395ce7317ab6a1c476872f31a0942378ea08308c8097722d65fa8299cdaf01a500b6c5c35e64636cd29406a1daa0a898979dc0c43e5254f4318b7f2106dd892df1df2a40e2e31d07085b1c159ea6a0d9d8cb5448fbf95e604c2d23c7e53fa357a863c8fa6abd8b2f8b61a577e88916a0a5147911a8b0aa24649bc7a88cee35d94945e60e76a291da9c3f379af2fc2025a0af5cd58d38d8b8224e6f3cb1bb52a35451a5e98abe8d448e9fa40824940c21f680a07c9bd2fe59a6e1343258616930662862d71f36d8b6ba04a9bbb6bbf09346bda0a05f22f4cf593885a5dd0e49fd180299cbc5c68df34e67145b489edc4f78765e88a0326f43cffa2a9bd8dcd44abdeb8634538fdc74cd3e87a11e1fa00d18560d2563a0047ee4e8a68ae807659bf2f371a1b30e83b1aeaf38f08f9c0cfa7e67c823db0080b853f851a0fe941f84b9a1db43de43c5d71ff2678a612d23ff184158b1843406dd4027e54a80808080808080808080a0e5f5b10fa0bb46e9db02a11af23d65961bdc73611d35b10bff398d025dba38d38080808080b845f843a0202e95fc59bf48058d94de9ee3ea707d3f3e6cbb65dad10db13a6a9f2f268173a1a0416b2f6a5a622f77354c34303879446a4f4f3575704e4644476474306c79575200000000000000000000a3babb206e63879bbaaedee9e19ba44a61b4ab467df2df8b31f1cd4f0b20ab29000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000002eaf902e7b901f4f901f1a09e9e0b33c41264a19b98e952afb52f54f65ae3426e817d9f5606938f500cafd5a0cdd5ca9dcbc532146838bf3eab2717959c7dbf0e82ca2984169a01f9bb99dac7a0b41fabf41b9b8811dfb6eeccb88925a7e7fdbbbccb54f81d47af5430564c2b3da0faf568a438f830ee0fe615971f535bbd04feb43625d185f1ab5c37db81a89b82a092082de4e059207736a7c9a08127dc3d1ba7d6b3ec162a176605d0de28263a17a047bc6c5cf0df6be11b826039fb6584bbada8ec6f395ce7317ab6a1c476872f31a0942378ea08308c8097722d65fa8299cdaf01a500b6c5c35e64636cd29406a1daa0a898979dc0c43e5254f4318b7f2106dd892df1df2a40e2e31d07085b1c159ea6a0d9d8cb5448fbf95e604c2d23c7e53fa357a863c8fa6abd8b2f8b61a577e88916a0a5147911a8b0aa24649bc7a88cee35d94945e60e76a291da9c3f379af2fc2025a0af5cd58d38d8b8224e6f3cb1bb52a35451a5e98abe8d448e9fa40824940c21f680a07c9bd2fe59a6e1343258616930662862d71f36d8b6ba04a9bbb6bbf09346bda0a05f22f4cf593885a5dd0e49fd180299cbc5c68df34e67145b489edc4f78765e88a0326f43cffa2a9bd8dcd44abdeb8634538fdc74cd3e87a11e1fa00d18560d2563a0047ee4e8a68ae807659bf2f371a1b30e83b1aeaf38f08f9c0cfa7e67c823db0080b853f8518080a0fcaab1bfed8f76645dde7f306182470d0051d7bf46e1f921482e31f33a0f21dd808080808080808080a0c9718fd9b8224f0eebe1b9771e2cbfdbb7cadc129514555febd2b9701e2416ad80808080b853f8518080a08286b73e69a00fc28de4ffa06aafb992af9da8178ea4a7073b52ce566fcdfe208080808080a071b057c336919f8fb01442a424fb86e030000dac42ffe51c6d9ef88f844739278080808080808080b844f8429f3d720585670f3e1ce7012298c28b9239d11588b0b6990ee8e2b09b3b2eabeba1a06a6642456b3d222c2264656c69766572795365727669636573223a5b22666f6f00000000000000000000000000000000000000000000a3babb206e63879bbaaedee9e19ba44a61b4ab467df2df8b31f1cd4f0b20ab2a000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000002f6f902f3b901f4f901f1a09e9e0b33c41264a19b98e952afb52f54f65ae3426e817d9f5606938f500cafd5a0cdd5ca9dcbc532146838bf3eab2717959c7dbf0e82ca2984169a01f9bb99dac7a0b41fabf41b9b8811dfb6eeccb88925a7e7fdbbbccb54f81d47af5430564c2b3da0faf568a438f830ee0fe615971f535bbd04feb43625d185f1ab5c37db81a89b82a092082de4e059207736a7c9a08127dc3d1ba7d6b3ec162a176605d0de28263a17a047bc6c5cf0df6be11b826039fb6584bbada8ec6f395ce7317ab6a1c476872f31a0942378ea08308c8097722d65fa8299cdaf01a500b6c5c35e64636cd29406a1daa0a898979dc0c43e5254f4318b7f2106dd892df1df2a40e2e31d07085b1c159ea6a0d9d8cb5448fbf95e604c2d23c7e53fa357a863c8fa6abd8b2f8b61a577e88916a0a5147911a8b0aa24649bc7a88cee35d94945e60e76a291da9c3f379af2fc2025a0af5cd58d38d8b8224e6f3cb1bb52a35451a5e98abe8d448e9fa40824940c21f680a07c9bd2fe59a6e1343258616930662862d71f36d8b6ba04a9bbb6bbf09346bda0a05f22f4cf593885a5dd0e49fd180299cbc5c68df34e67145b489edc4f78765e88a0326f43cffa2a9bd8dcd44abdeb8634538fdc74cd3e87a11e1fa00d18560d2563a0047ee4e8a68ae807659bf2f371a1b30e83b1aeaf38f08f9c0cfa7e67c823db0080b8b3f8b1808080a0df216671d922c5f3d6bf7b50c174284d563b1ec68109b25948b1b20b8dae4e218080a02c82b7387a52fa83afc0311bc01131164d20f701ea5ccbaf08dd2a69ee641d938080a022078a5760c2f83462ccae388997dc066a4195d9bc7e0b9b6cb03a4acc34300a80a0792f0a1ce764c86175671beb829ed573ad2b3334bbe343b9bc9e36359f14049b80a0e62efb5af5832e217f5bc0c9f0bacfb060e5e1959dc584bfe545e37b07a6b530808080b845f843a02017e7470ee0416d7c3f958452d30cfbfe8885f81f2978daaaf1c9da10e0c9c3a1a02e646d33225d7d000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001a4f8c30f63000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000160000000000000000000000000000000000000000000000000000000000000000b05616c6963650365746800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008459d1d43c787192fc5378cc32aa956ddfdedbf26b24e8d78e40109add0eea2c1a012c3dec0000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000f6e6574776f726b2e646d332e65746800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000148111dfd23b99233a7ae871b7c09ccf0722847d8900000000000000000000000000000000000000000000000000000000000000000000000000000000";

        const [response, extraData] = new ethers.utils.Interface([
            "function resolveWithProof(bytes calldata response, bytes calldata extraData) public view returns (address)",
        ]).decodeFunctionData("resolveWithProof", cd);


        const profile = {
            publicSigningKey: "0ekgI3CBw2iXNXudRdBQHiOaMpG9bvq9Jse26dButug=",
            publicEncryptionKey: "Vrd/eTAk/jZb/w5L408yDjOO5upNFDGdt0lyWRjfBEk=",
            deliveryServices: ["foo.dm3"],
        };
        const resBytes = await l2PublicResolverVerifier.resolveText(response, extraData);
        expect(ethers.utils.toUtf8String(resBytes)).to.equal(JSON.stringify(profile));
    });


});
